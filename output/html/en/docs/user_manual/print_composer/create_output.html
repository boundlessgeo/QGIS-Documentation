<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating an Output</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/qgis-style.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'testing',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/qgis-site.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/images/favicon.ico?1322140996"/>
    <link rel="top" title="" href="../../../index.html" />
    <link rel="up" title="Print Composer" href="index.html" />
    <link rel="next" title="Plugins" href="../plugins/plugins_index.html" />
    <link rel="prev" title="Shape Items" href="composer_items/composer_items_shape.html" />
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
    <meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>



    
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../../index.html">QGIS Documentation Project</a>
        <span class="navbar-text pull-left"><b>testing</b></span>
        
          <select id="languages">
  <!-- note on the options here: the 'title' string is to be translated in your
  language, but the element text is supposed to stay in native lang/txt -->
  <option value="en" title="English">English</option>
<!--  <option value="ca_ES" title="Catalan">Catalan</option>
  <option value="da_DK" title="Danish">Dansk</option>
  <option value="de" title="German">Deutsch</option>
  <option value="es" title="Spanish">Español</option>
  <option value="fa" title="Persian">فارسی</option>
  <option value="fi" title="Finnish">Suomalainen</option>
  <option value="fr" title="French">Français</option>
  <option value="id" title="Indonesian">Bahasa Indonesia</option>
  <option value="it" title="Italian">Italiano</option>
  <option value="ja" title="Japanese">日本語</option>
  <option value="ko_KR" title="Korean">한국어</option>
  <option value="nl" title="Dutch">Nederlands</option>
  <option value="pt_PT" title="Portuguese">Português</option>
  <option value="ro" title="Romanian">Română</option>
  <option value="ru" title="Russian">Русский</option>
  <option value="zh_CN" title="Chinese (China)">中文</option>
  <option value="zh_TW" title="Chinese (Taiwan)">Chinese (Taiwan)</option> -->
</select>

<script>
    var currentPage = 'docs/user_manual/print_composer/create_output.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    // split index.html if currentUrl is ended by '/'
    var currentUrl = window.location.href;
    if (currentUrl.slice(-1) == '/' && currentPage.slice(-1) != '/'){
      var pages = currentPage.split('/');
      pages.pop();
      currentPage = pages.join('/') + '/';
    }
    $(document).ready(function(){
        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is the index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave
        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('This is an documentation error, please report back to QGIS devs.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        // TODO: links should come from conf.py
        // TODO: all template pages have the actual translation in sphinc.conf
        // documentation master only github links
        /*
        fix_translation_link = 'https://www.transifex.com/projects/p/qgis-website/translate/#' + 
            currentLang.slice(1) + currentPage.replace(/\//g, "_").replace(/-/g, "_").replace(/\.html/g, "")
        if ('/en/' != currentLang) {
            $('#fix_translation_link').attr('href', fix_translation_link);
        }
        */
        fix_text_link = 'https://github.com/qgis/QGIS-Documentation/edit/master/source/' +
            currentPage.replace(/.html/g, ".rst")
        // TODO: only on rst pages, here a list of pages which are actual templates?
        if (true){
            $('#fix_text_link').attr('href', fix_text_link);
        }

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>
        
        <div class="nav-collapse collapse">
          <ul class="unstyled nav main-menu">
            <!--<li><a href="../../../site/about/index.html">Discover QGIS</a></li>
            <li><a href="../../../site/forusers/index.html">For Users</a></li>
            <li><a href="../../../site/getinvolved/index.html">Get Involved</a></li>
            <li><a href="../../index.html">Documentation</a></li>-->
            <li><a href="../../index.html">Documentation QGIS testing</a></li>
            <li>
          
<form class="navbar-search" action="../../../search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

    
    <div class="related">
       
      
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../plugins/plugins_index.html" title="Plugins"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="composer_items/composer_items_shape.html" title="Shape Items"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html"></a> &raquo;</li>
          <li><a href="../index.html" >QGIS User Guide</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Print Composer</a> &raquo;</li> 
      </ul>
    </div>
    <div style="display:none;" class="container" id="nextprev" >
    
    <a accesskey="p" href="composer_items/composer_items_shape.html">&lt;&lt; prev</a>
    
    
    <a accesskey="n" href="../plugins/plugins_index.html">next &gt;&gt;</a>
    
    </div>




    
        <div class="container">
            <div class="row">
      <div class="span4">
        <div id="sidebar" class="bs-sidenav well" data-spy="scroll">
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User guide/Manual (QGIS Testing!)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/whats_new.html">What&#8217;s new in QGIS testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">General Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qgis_browser/qgis_browser.html">QGIS Browser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_vector/index.html">Working with Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/index.html">Working with OGC Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">QGIS processing framework</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Print Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/plugins_index.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/appendices.html">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://docs.qgis.org/testing/pdf/">User guide/Manual PDF&#8217;s</a></li>
</ul>

        </div>
      </div>
                <div class="span8">
                    
                        
                            <p><span class="disclaimer">Docs for &#8216;QGIS testing&#8217;. Visit http://docs.qgis.org/2.14 for QGIS 2.14 docs and translations.</span></p>
<div class="section" id="creating-an-output">
<span id="create-output"></span><span id="index-0"></span><h1>Creating an Output<a class="headerlink" href="#creating-an-output" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#export-as-image" id="id1">Export as Image</a></li>
<li><a class="reference internal" href="#export-as-svg" id="id2">Export as SVG</a></li>
<li><a class="reference internal" href="#export-as-pdf" id="id3">Export as PDF</a></li>
<li><a class="reference internal" href="#generate-an-atlas" id="id4">Generate an Atlas</a><ul>
<li><a class="reference internal" href="#labels" id="id5">Labels</a></li>
<li><a class="reference internal" href="#data-defined-override-buttons" id="id6">Data Defined Override Buttons</a></li>
<li><a class="reference internal" href="#preview-and-generate" id="id7">Preview and generate</a></li>
</ul>
</li>
</ul>
</div>
<p><a class="reference internal" href="#figure-composer-output-1">Figure_composer_output_1</a> shows the Print Composer with an example print layout,
including each type of map item described in the previous section.</p>
<p id="figure-composer-output-1"><strong>Figure Composer Output 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/print_composer_complete.png" src="../../../_images/print_composer_complete.png" />
<p class="caption">Print Composer with map view, legend, image, scale bar, coordinates, text and
HTML frame added</p>
</div>
<p id="index-1">Before printing a layout you have the possibility to view your composition
without bounding boxes. This can be enabled by deactivating <em class="guilabel">View &#8211;&gt;</em>
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Show bounding boxes</em> or pressing the shortcut
<tt class="kbd docutils literal"><span class="pre">Ctrl+Shift+B</span></tt>.</p>
<p>The Print Composer allows you to create several output formats, and it is possible
to define the resolution (print quality) and paper size:</p>
<ul class="simple">
<li>The <a class="reference internal" href="../../../_images/mActionFilePrint.png"><img alt="filePrint" src="../../../_images/mActionFilePrint.png" style="width: 1.5em;" /></a> <sup>Print</sup> icon allows you to print the layout to a
connected printer or a PostScript file, depending on installed printer drivers.</li>
<li>The <a class="reference internal" href="../../../_images/mActionSaveMapAsImage.png"><img alt="saveMapAsImage" src="../../../_images/mActionSaveMapAsImage.png" style="width: 1.5em;" /></a> <sup>Export as image</sup> icon exports the Composer
canvas in several image formats, such as PNG, BPM, TIF, JPG,...</li>
<li>The <a class="reference internal" href="../../../_images/mActionSaveAsSVG.png"><img alt="saveAsSVG" src="../../../_images/mActionSaveAsSVG.png" style="width: 1.5em;" /></a> <sup>Export as SVG</sup> icon saves the Print Composer canvas
as an SVG (Scalable Vector Graphic).</li>
<li>The <a class="reference internal" href="../../../_images/mActionSaveAsPDF.png"><img alt="saveAsPDF" src="../../../_images/mActionSaveAsPDF.png" style="width: 1.5em;" /></a> <sup>Export as PDF</sup> icon saves the defined Print Composer
canvas directly as a PDF.</li>
</ul>
<div class="section" id="export-as-image">
<h2><a class="toc-backref" href="#id1">Export as Image</a><a class="headerlink" href="#export-as-image" title="Permalink to this headline">¶</a></h2>
<p>Clicking the <a class="reference internal" href="../../../_images/mActionSaveMapAsImage.png"><img alt="saveMapAsImage" src="../../../_images/mActionSaveMapAsImage.png" style="width: 1.5em;" /></a> <sup>Export as image</sup> icon will ask you to
enter the filename to use to export composition: in case of multi-page composition,
each page will be exported to a file with the given name appended with the page
number.</p>
<p>You can then override the print resolution (set in Composition tab) and resize
exported image dimensions.</p>
<p id="crop-to-content">By checking <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Crop to content</em> option, the images output by
composer will include only the area of the composition with content.
There&#8217;s also an option for margins to add around the item bounds if required.</p>
<p>If the composition includes a single page, then the output will
be sized to include EVERYTHING on the composition. If it&#8217;s a
multi-page composition, then each page will be cropped to only
include the area of that page with items.</p>
<p id="figure-composer-output-2"><strong>Figure Composer Output 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/image_export_options.png" src="../../../_images/image_export_options.png" />
<p class="caption">Image Export Options</p>
</div>
<p>If you need to export your layout as a <strong>georeferenced image</strong> (e.g., to share
with other projects), you need to enable this feature under the Composition tab.
Check <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">World file on</em> and choose the map item to use.
With this option, the &#8216;Export as image&#8217; action will create a world file along
the exported image.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Exporting big rasters can sometimes fail, even if there seems to be
enough memory. This is a problem with the underlying Qt management of rasters.</p>
</div>
</div>
<div class="section" id="export-as-svg">
<h2><a class="toc-backref" href="#id2">Export as SVG</a><a class="headerlink" href="#export-as-svg" title="Permalink to this headline">¶</a></h2>
<p>With <a class="reference internal" href="../../../_images/mActionSaveAsSVG.png"><img alt="saveAsSVG" src="../../../_images/mActionSaveAsSVG.png" style="width: 1.5em;" /></a> <sup>Export as SVG</sup>, you also need to fill the filename
(used as a basename for all files in case of multi_page composition) and then
can apply <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Crop to content</em> <a class="reference internal" href="#crop-to-content"><em>option</em></a>.</p>
<p>The SVG export options dialog allows also to :</p>
<ul class="simple">
<li><em class="guilabel">export map layers as svg groups</em>:</li>
<li>render map labels as outlines</li>
</ul>
<p id="figure-composer-output-3"><strong>Figure Composer Output 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/svg_export_options.png" src="../../../_images/svg_export_options.png" />
<p class="caption">SVG Export Options</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Currently, the SVG output is very basic. This is not a QGIS problem, but a
problem with the underlying Qt library. This will hopefully be sorted out
in future versions.</p>
</div>
</div>
<div class="section" id="export-as-pdf">
<h2><a class="toc-backref" href="#id3">Export as PDF</a><a class="headerlink" href="#export-as-pdf" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../../_images/mActionSaveAsPDF.png"><img alt="saveAsPDF" src="../../../_images/mActionSaveAsPDF.png" style="width: 1.5em;" /></a> <sup>Export as PDF</sup> exports all the composition into a
single PDF file.</p>
<p>If you applied to your composition or any shown layer an advanced effect such as
blend modes, transparency or symbol effects, these cannot be printed
as vectors and your effects may be lost.
Checking <em class="guilabel">Print as a raster</em> in Composition tab helps to keep the effects
but rasterize the composition. Note that the <em class="guilabel">Force layer to render
as raster</em> in the Rendering tab of Layer Properties is a layer-level alternative
that avoids global composition rasterization.</p>
</div>
<div class="section" id="generate-an-atlas">
<span id="atlas-generation"></span><span id="index-2"></span><h2><a class="toc-backref" href="#id4">Generate an Atlas</a><a class="headerlink" href="#generate-an-atlas" title="Permalink to this headline">¶</a></h2>
<p>The Print Composer includes generation functions that allow you to create map
books in an automated way. The concept is to use a coverage layer, which contains
geometries and fields. For each geometry in the coverage layer, a new output will
be generated where the content of some canvas maps will be moved to highlight the
current geometry. Fields associated with this geometry can be used within text
labels.</p>
<p>Every page will be generated with each feature. To enable the generation
of an atlas and access generation parameters, refer to the <cite>Atlas generation</cite> tab.
This tab contains the following widgets (see  <a class="reference internal" href="#figure-composer-atlas-1">figure_composer_atlas_1</a>):</p>
<p id="figure-composer-atlas-1"><strong>Figure Composer Atlas 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/atlas_properties.png" src="../../../_images/atlas_properties.png" />
<p class="caption">Atlas generation tab</p>
</div>
<ul class="simple">
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Generate an atlas</em>, which enables or disables the atlas
generation.</li>
<li>A <em class="guilabel">Coverage layer</em> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> combo box that allows you to choose
the   (vector) layer containing the features on which to iterate over.</li>
<li>An optional <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Hidden coverage layer</em> that, if checked,
will hide   the coverage layer (but not the other ones) during the generation.</li>
<li>An optional <em class="guilabel">Page name</em> combo box to give a more explicit name to
each feature page(s) when previewing atlas. You can select an attribute of
the coverage layer or set an expression. If this option is empty, QGIS will
use an internal ID, according to the filter and/or the sort order applied to
the layer.</li>
<li>An optional <em class="guilabel">Filter with</em> text area that allows you to specify an
expression for filtering features from the coverage layer. If the expression
is not empty, only features that evaluate to <tt class="docutils literal"><span class="pre">True</span></tt> will be selected.
The button on the right allows you to display the expression builder.</li>
<li>An optional <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Sort by</em> that, if checked, allows you to
sort features of the coverage layer. The associated combo box allows you to
choose which column will be used as the sorting key. Sort order (either
ascending or descending) is set by a two-state button that displays an up or
a down arrow.</li>
</ul>
<p>You also have options to set the output of the atlas:</p>
<ul class="simple">
<li>An <em class="guilabel">Output filename expression</em> textbox that is used to generate
a filename for each geometry if needed. It is based on expressions. This field
is meaningful only for rendering to multiple files.</li>
<li>A <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Single file export when possible</em> that allows you to
force the generation of a single file if this is possible with the chosen output
format (PDF, for instance). If this field is checked, the value of the
<em class="guilabel">Output filename expression</em> field is meaningless.</li>
</ul>
<p>You can use multiple map items with the atlas generation; each map will be rendered
according to the coverage features. To enable atlas generation for a specific map
item, you need to check <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a><em class="guilabel">Controlled by Atlas</em> under the item
properties of the map item.
Once checked, you can set:</p>
<ul class="simple">
<li>A <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Margin around feature</em> that allows you to select
the amount of space added around each geometry within the allocated map.
Its value is meaningful only when using the auto-scaling mode.</li>
<li>A <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Predefined scale</em> (best fit). It will use the best
fitting option from the list of predefined scales in your project properties settings
(see <em class="guilabel">Project &#8211;&gt; Project Properties &#8211;&gt; General &#8211;&gt; Project Scales</em>
to configure these predefined scales).</li>
<li>A <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Fixed scale</em> that allows you to toggle between
auto-scale and fixed-scale mode.
In fixed-scale mode, the map will only be translated for each geometry to be centered.
In auto-scale mode, the map&#8217;s extents are computed in such a way that
each geometry will appear in its entirety.</li>
</ul>
<div class="section" id="labels">
<h3><a class="toc-backref" href="#id5">Labels</a><a class="headerlink" href="#labels" title="Permalink to this headline">¶</a></h3>
<p>In order to adapt labels to the feature the atlas plugin iterates over, you can include expressions.
What you should take care of is to place expression part (including functions, fields or variables)
between <tt class="docutils literal"><span class="pre">[%</span></tt> and <tt class="docutils literal"><span class="pre">%]</span></tt>.
For example, for a city layer with fields CITY_NAME and ZIPCODE, you could insert this:</p>
<div class="code highlight-python"><pre>The area of [% upper(CITY_NAME) || ',' || ZIPCODE || ' is '
format_number($area/1000000,2) %] km2</pre>
</div>
<p>or, another combination:</p>
<div class="code highlight-python"><pre>The area of [% upper(CITY_NAME)%],[%ZIPCODE%] is
[%format_number($area/1000000,2) %] km2</pre>
</div>
<p>The information <tt class="docutils literal"><span class="pre">[%</span> <span class="pre">upper(CITY_NAME)</span> <span class="pre">||</span> <span class="pre">','</span> <span class="pre">||</span> <span class="pre">ZIPCODE</span> <span class="pre">||</span> <span class="pre">'</span> <span class="pre">is</span> <span class="pre">'</span> <span class="pre">format_number($area/1000000,2)</span> <span class="pre">%]</span></tt>
is an expression used inside the label. both expressions would result in the generated atlas as:</p>
<div class="highlight-python"><pre>The area of PARIS,75001 is 1.94 km2</pre>
</div>
</div>
<div class="section" id="data-defined-override-buttons">
<span id="atlas-data-defined-override"></span><h3><a class="toc-backref" href="#id6">Data Defined Override Buttons</a><a class="headerlink" href="#data-defined-override-buttons" title="Permalink to this headline">¶</a></h3>
<p>There are several places where you can use a <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> <sup>Data Defined
Override</sup> button to override the selected setting. These options are particularly
useful with Atlas Generation.</p>
<p>For the following examples the <cite>Regions</cite> layer of the QGIS sample dataset is used
and selected for Atlas Generation.
We also assume the paper format <cite>A4 (210X297)</cite> is selected in the
<em class="guilabel">Composition</em> tab for field <em class="guilabel">Presets</em>.</p>
<p>With a <cite>Data Defined Override</cite> button you can dynamically set the paper orientation.
When the height (north-south) of the extents of a region is greater than its width
(east-west), you rather want to use <cite>portrait</cite> instead of <cite>landscape</cite> orientation
to optimize the use of paper.</p>
<p>In the <em class="guilabel">Composition</em> you can set the field <em class="guilabel">Orientation</em>
and select <cite>Landscape</cite> or <cite>Portrait</cite>. We want to set the orientation dynamically
using an expression depending on the region geometry.
Press the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> button of field <em class="guilabel">Orientation</em>, select
<em class="menuselection">Edit...</em> so the <em class="guilabel">Expression string builder</em> dialog opens.
Enter the following expression:</p>
<div class="code highlight-python"><pre>CASE WHEN bounds_width($atlasgeometry) &gt; bounds_height($atlasgeometry)
THEN 'Landscape' ELSE 'Portrait' END</pre>
</div>
<p>Now the paper orients itself automatically. For each Region you need to reposition
the location of the composer item as well. For the map item you can
use the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> button of field <em class="guilabel">Width</em> to set it
dynamically using following expression:</p>
<div class="code highlight-python"><pre>(CASE WHEN bounds_width($atlasgeometry) &gt; bounds_height($atlasgeometry)
THEN 297 ELSE 210 END) - 20</pre>
</div>
<p>Use the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> button of field <em class="guilabel">Height</em> to provide following
expression:</p>
<div class="code highlight-python"><pre>(CASE WHEN bounds_width($atlasgeometry) &gt; bounds_height($atlasgeometry)
THEN 210 ELSE 297 END) - 20</pre>
</div>
<p>When you want to give a title above the map in the center of the page,
insert a label item above the map. First use the item properties of the label
item to set the horizontal alignment to <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Center</em>.
Next activate from <em class="guilabel">Reference point</em> the upper middle checkbox.
You can provide the following expression for field <em class="guilabel">X</em> :</p>
<div class="code highlight-python"><pre>(CASE WHEN bounds_width($atlasgeometry) &gt; bounds_height($atlasgeometry)
THEN 297 ELSE 210 END) / 2</pre>
</div>
<p>For all other composer items you can set the position in a similar way so they
are correctly positioned when the page is automatically rotated in portrait or
landscape.</p>
<p>Information provided is derived from the excellent blog (in English and Portuguese)
on the Data Defined Override options <a class="reference external" href="http://sigsemgrilhetas.wordpress.com/2014/11/09/series-de-mapas-com-formatos-multiplos-em-qgis-2-6-parte-1-multiple-format-map-series-using-qgis-2-6-part-1">Multiple_format_map_series_using_QGIS_2.6</a> .</p>
<p>This is just one example of how you can use the Data Defined Override option.</p>
</div>
<div class="section" id="preview-and-generate">
<span id="atlas-preview"></span><h3><a class="toc-backref" href="#id7">Preview and generate</a><a class="headerlink" href="#preview-and-generate" title="Permalink to this headline">¶</a></h3>
<p id="figure-composer-atlas-2"><strong>Figure Composer Atlas 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/atlas_preview.png" src="../../../_images/atlas_preview.png" />
<p class="caption">Atlas Preview toolbar</p>
</div>
<p>Once the atlas settings have been configured and composer items (map, table,
image...) linked to it, you can create a preview of all the pages by clicking
<em class="menuselection">Atlas ‣ Preview Atlas</em> or <a class="reference internal" href="../../../_images/mIconAtlas.png"><img alt="atlas" src="../../../_images/mIconAtlas.png" style="width: 1.5em;" /></a> <sup>Preview Atlas</sup> icon.
You can then use the arrows in the same toolbar to navigate through all the
features:</p>
<ul class="simple">
<li><a class="reference internal" href="../../../_images/mActionAtlasFirst.png"><img alt="atlasFirst" src="../../../_images/mActionAtlasFirst.png" style="width: 1.5em;" /></a> <sup>First feature</sup></li>
<li><a class="reference internal" href="../../../_images/mActionAtlasPrev.png"><img alt="atlasPrev" src="../../../_images/mActionAtlasPrev.png" style="width: 1.5em;" /></a> <sup>Previous feature</sup></li>
<li><a class="reference internal" href="../../../_images/mActionAtlasNext.png"><img alt="atlasNext" src="../../../_images/mActionAtlasNext.png" style="width: 1.5em;" /></a> <sup>Next feature</sup></li>
<li><a class="reference internal" href="../../../_images/mActionAtlasLast.png"><img alt="atlasLast" src="../../../_images/mActionAtlasLast.png" style="width: 1.5em;" /></a> <sup>Last feature</sup></li>
</ul>
<p>You can also use the combo box to directly select and preview a specific feature.
The combo box shows atlas features name according to the expression set in the
atlas <em class="guilabel">Page name</em> option.</p>
<p>As for simple compositions, an atlas can be generated in different ways (see
<a class="reference internal" href="#create-output"><em>Creating an Output</em></a> for more information). Instead of <em class="menuselection">Composer</em>
menu, rather use tools from <em class="menuselection">Atlas</em> menu or Atlas toolbar.</p>
<p>This means that you can directly print your compositions with <em class="menuselection">Atlas ‣ Print Atlas</em>.
You can also create a PDF using <em class="menuselection">Atlas ‣ Export Atlas as PDF...</em>:
The user will be asked for a directory to save all the generated PDF files,
except if the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Single file export when possible</em> has been
selected. In that case, you&#8217;ll be prompted to give a filename.</p>
<p>With <em class="menuselection">Atlas ‣ Export Atlas as Images...</em> or
<em class="menuselection">Atlas ‣ Export Atlas as SVG...</em> tool, you&#8217;re also prompted to
select a folder. Each page of each atlas feature composition is exported to
an image or SVG file.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Print a specific atlas feature</strong></p>
<p class="last">If you want to print or export the composition of only one feature of the atlas,
simply start the preview, select the desired feature in the drop-down list
and click on <em class="menuselection">Composer ‣ Print</em> (or <em class="menuselection">export...</em>
to any supported file format).</p>
</div>
</div>
</div>
</div>

                        
                    
                </div>
                  
            </div>
        </div>
    

    <!--<a href="https://github.com/qgis/"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>-->
    <div class="related">
       
      
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../plugins/plugins_index.html" title="Plugins"
             >next</a></li>
        <li class="right" >
          <a href="composer_items/composer_items_shape.html" title="Shape Items"
             >previous</a> |</li>
        <li><a href="../../index.html"></a> &raquo;</li>
          <li><a href="../index.html" >QGIS User Guide</a> &raquo;</li>
          <li><a href="index.html" >Print Composer</a> &raquo;</li> 
      </ul>
    </div>
  <footer class="footer">

    <div class="container">
        <div>
          <ul class="unstyled inline" id="social">
            <li id="twitter"><a href="http://twitter.com/qgis" class="external"><div></div></a></li>
            <li id="facebook"><a href="https://www.facebook.com/pages/QGIS-Quantum-GIS-/298112000235096" class="external"><div></div></a></li>
            <li id="gplus"><a href="http://plus.google.com/communities/114776597176808981624" class="external"><div></div></a></li>
            <li id="github"><a href="http://github.com/qgis/" class="external"><div></div></a></li>
            <!--<li id="aboutcontact"><a href="../../../site/getinvolved/about.html"><div></div></a></li>-->
            <li id="aboutcontact"><a href="http://www.qgis.org/en/site/getinvolved/about.html"><div></div></a></li>
          </ul>
        </div>

        <p class="credit">If not stated otherwise, all content is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 licence (CC BY-SA)</a></p>
    </div>
    <div class="container">
      <p class="credit">
        Select graphics from <a href="http://thenounproject.com" target="_blank">The Noun Project collection</a>
        
        
      </p>
      <p class="credit">
        <!--
        Untranslated page? Or you spot a translation error:
        <a id="fix_translation_link" target="_blank" href="https://www.transifex.com/projects/p/qgis-documentation/">fix me</a>
        <br/>
        -->
        Textual error, missing text or you know better:
        <a id="fix_text_link" target="_blank" href="https://github.com/qgis/QGIS-Documentation">fix me</a>
      </p>
    </div>
  </footer>

  </body>
</html>