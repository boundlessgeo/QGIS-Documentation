<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The Vector Properties Dialog</title>
    
    <link rel="stylesheet" href="../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/qgis-style.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-2.3.2/css/bootstrap-responsive.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     'testing',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/qgis-site.js"></script>
    <script type="text/javascript" src="../../../_static/bootstrap-2.3.2/js/bootstrap.min.js"></script>
    <link rel="shortcut icon" href="../../../_static/images/favicon.ico?1322140996"/>
    <link rel="top" title="" href="../../../index.html" />
    <link rel="up" title="Working with Vector Data" href="index.html" />
    <link rel="next" title="Expressions" href="expression.html" />
    <link rel="prev" title="The Symbol Library" href="style_library.html" />
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
    <meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>



    
  <div id="navbar" class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <a class="brand" href="../../index.html">QGIS Documentation Project</a>
        <span class="navbar-text pull-left"><b>testing</b></span>
        
          <select id="languages">
  <!-- note on the options here: the 'title' string is to be translated in your
  language, but the element text is supposed to stay in native lang/txt -->
  <option value="en" title="English">English</option>
<!--  <option value="ca_ES" title="Catalan">Catalan</option>
  <option value="da_DK" title="Danish">Dansk</option>
  <option value="de" title="German">Deutsch</option>
  <option value="es" title="Spanish">Español</option>
  <option value="fa" title="Persian">فارسی</option>
  <option value="fi" title="Finnish">Suomalainen</option>
  <option value="fr" title="French">Français</option>
  <option value="id" title="Indonesian">Bahasa Indonesia</option>
  <option value="it" title="Italian">Italiano</option>
  <option value="ja" title="Japanese">日本語</option>
  <option value="ko_KR" title="Korean">한국어</option>
  <option value="nl" title="Dutch">Nederlands</option>
  <option value="pt_PT" title="Portuguese">Português</option>
  <option value="ro" title="Romanian">Română</option>
  <option value="ru" title="Russian">Русский</option>
  <option value="zh_CN" title="Chinese (China)">中文</option>
  <option value="zh_TW" title="Chinese (Taiwan)">Chinese (Taiwan)</option> -->
</select>

<script>
    var currentPage = 'docs/user_manual/working_with_vector/vector_properties.html'; // coming from sphinx, always without starting '/'
    var currentLang = 'en';
    // split index.html if currentUrl is ended by '/'
    var currentUrl = window.location.href;
    if (currentUrl.slice(-1) == '/' && currentPage.slice(-1) != '/'){
      var pages = currentPage.split('/');
      pages.pop();
      currentPage = pages.join('/') + '/';
    }
    $(document).ready(function(){
        var search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
        var langPlusPage = window.location.href.match(search);
        // it's possible this is the index.html page called without 'index.html', try without the currentPage
        if (langPlusPage==undefined){
            search = new RegExp('\/[a-zA-Z_]{2,8}\/$', 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // it's possible this is an index.html page called without 'index.html', try removing index.html
        if (langPlusPage==undefined){
            currentPage = currentPage.replace('index.html','')
            search = new RegExp('\/[a-zA-Z_]{2,8}\/'+ currentPage, 'gi');
            langPlusPage = window.location.href.match(search);
        }
        // still no langPlugPage: stop, because the language swicher will misbehave
        if (langPlusPage == undefined || langPlusPage.length != 1){
            alert('This is an documentation error, please report back to QGIS devs.');
            return;
        }
        langPlusPage = langPlusPage[0];
        currentLang = langPlusPage.replace(currentPage, '');

        // TODO: links should come from conf.py
        // TODO: all template pages have the actual translation in sphinc.conf
        // documentation master only github links
        /*
        fix_translation_link = 'https://www.transifex.com/projects/p/qgis-website/translate/#' + 
            currentLang.slice(1) + currentPage.replace(/\//g, "_").replace(/-/g, "_").replace(/\.html/g, "")
        if ('/en/' != currentLang) {
            $('#fix_translation_link').attr('href', fix_translation_link);
        }
        */
        fix_text_link = 'https://github.com/qgis/QGIS-Documentation/edit/master/source/' +
            currentPage.replace(/.html/g, ".rst")
        // TODO: only on rst pages, here a list of pages which are actual templates?
        if (true){
            $('#fix_text_link').attr('href', fix_text_link);
        }

        $("#languages").val(currentLang.replace(/\//g,'')); // currentLang is something like '/nl/'

        $("#languages").change(function() {
            gotoLang($(this).val());
        });

    });

    // load current page in a different language
    function gotoLang(lang){
        var currentUrl = window.location.href;
        var newUrl = currentUrl.replace(currentLang, '/'+lang+'/');
        window.location.href = newUrl;
    }
</script>
        
        <div class="nav-collapse collapse">
          <ul class="unstyled nav main-menu">
            <!--<li><a href="../../../site/about/index.html">Discover QGIS</a></li>
            <li><a href="../../../site/forusers/index.html">For Users</a></li>
            <li><a href="../../../site/getinvolved/index.html">Get Involved</a></li>
            <li><a href="../../index.html">Documentation</a></li>-->
            <li><a href="../../index.html">Documentation QGIS testing</a></li>
            <li>
          
<form class="navbar-search" action="../../../search.html" method="get">
  <input type="text" name="q" class="search-query" placeholder="Search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </li>
          </ul>
        </div>
      </div>
    </div>
  </div>

    
    <div class="related">
       
      
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="expression.html" title="Expressions"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="style_library.html" title="The Symbol Library"
             accesskey="P">previous</a> |</li>
        <li><a href="../../index.html"></a> &raquo;</li>
          <li><a href="../index.html" >QGIS User Guide</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">Working with Vector Data</a> &raquo;</li> 
      </ul>
    </div>
    <div style="display:none;" class="container" id="nextprev" >
    
    <a accesskey="p" href="style_library.html">&lt;&lt; prev</a>
    
    
    <a accesskey="n" href="expression.html">next &gt;&gt;</a>
    
    </div>




    
        <div class="container">
            <div class="row">
      <div class="span4">
        <div id="sidebar" class="bs-sidenav well" data-spy="scroll">
<h3><a href="../../index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User guide/Manual (QGIS Testing!)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../preamble/preamble.html">Preamble</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/conventions.html">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/foreword.html">Foreword</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/features.html">Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/whats_new.html">What&#8217;s new in QGIS testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/getting_started.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_gui.html">QGIS GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/general_tools.html">General Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../introduction/qgis_configuration.html">QGIS Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_projections/working_with_projections.html">Working with Projections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qgis_browser/qgis_browser.html">QGIS Browser</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Working with Vector Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_raster/index.html">Working with Raster Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_ogc/index.html">Working with OGC Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../working_with_gps/index.html">Working with GPS Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../auth_system/index.html">Authentication System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../grass_integration/grass_integration.html">GRASS GIS Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../processing/index.html">QGIS processing framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../print_composer/index.html">Print Composer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugins/plugins_index.html">Plugins</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preamble/help_and_support.html">Help and Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="../appendices/appendices.html">Appendix</a></li>
<li class="toctree-l2"><a class="reference internal" href="../literature_web/literature_and_web_references.html">Literature and Web References</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference external" href="http://docs.qgis.org/testing/pdf/">User guide/Manual PDF&#8217;s</a></li>
</ul>

        </div>
      </div>
                <div class="span8">
                    
                        
                            <p><span class="disclaimer">Docs for &#8216;QGIS testing&#8217;. Visit http://docs.qgis.org/2.14 for QGIS 2.14 docs and translations.</span></p>
<div class="section" id="the-vector-properties-dialog">
<span id="vector-properties-dialog"></span><h1>The Vector Properties Dialog<a class="headerlink" href="#the-vector-properties-dialog" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#general-menu" id="id13">General Menu</a><ul>
<li><a class="reference internal" href="#layer-info" id="id14">Layer Info</a></li>
<li><a class="reference internal" href="#coordinate-reference-system" id="id15">Coordinate Reference System</a></li>
<li><a class="reference internal" href="#scale-dependent-visibility" id="id16">Scale dependent visibility</a></li>
<li><a class="reference internal" href="#query-builder" id="id17">Query Builder</a></li>
</ul>
</li>
<li><a class="reference internal" href="#style-menu" id="id18">Style Menu</a><ul>
<li><a class="reference internal" href="#features-rendering" id="id19">Features rendering</a><ul>
<li><a class="reference internal" href="#single-symbol-renderer" id="id20">Single Symbol Renderer</a></li>
<li><a class="reference internal" href="#no-symbols-renderer" id="id21">No Symbols Renderer</a></li>
<li><a class="reference internal" href="#categorized-renderer" id="id22">Categorized Renderer</a></li>
<li><a class="reference internal" href="#graduated-renderer" id="id23">Graduated Renderer</a></li>
<li><a class="reference internal" href="#proportional-symbol-and-multivariate-analysis" id="id24">Proportional Symbol and Multivariate Analysis</a></li>
<li><a class="reference internal" href="#rule-based-rendering" id="id25">Rule-based rendering</a></li>
<li><a class="reference internal" href="#point-displacement" id="id26">Point displacement</a></li>
<li><a class="reference internal" href="#inverted-polygon" id="id27">Inverted Polygon</a></li>
<li><a class="reference internal" href="#heatmap" id="id28">Heatmap</a></li>
<li><a class="reference internal" href="#d" id="id29">2.5 D</a></li>
</ul>
</li>
<li><a class="reference internal" href="#layer-rendering" id="id30">Layer rendering</a></li>
<li><a class="reference internal" href="#other-settings" id="id31">Other Settings</a><ul>
<li><a class="reference internal" href="#symbols-levels" id="id32">Symbols levels</a></li>
<li><a class="reference internal" href="#draw-effects" id="id33">Draw effects</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#labels-menu" id="id34">Labels Menu</a><ul>
<li><a class="reference internal" href="#text-menu" id="id35">Text menu</a></li>
<li><a class="reference internal" href="#formatting-menu" id="id36">Formatting menu</a></li>
<li><a class="reference internal" href="#buffer-menu" id="id37">Buffer menu</a></li>
<li><a class="reference internal" href="#background-menu" id="id38">Background menu</a></li>
<li><a class="reference internal" href="#shadow-menu" id="id39">Shadow menu</a></li>
<li><a class="reference internal" href="#placement-menu" id="id40">Placement menu</a><ul>
<li><a class="reference internal" href="#placement-for-point-layers" id="id41">Placement for point layers</a></li>
<li><a class="reference internal" href="#placement-for-line-layers" id="id42">Placement for line layers</a></li>
<li><a class="reference internal" href="#placement-for-polygon-layers" id="id43">Placement for polygon layers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rendering-menu" id="id44">Rendering menu</a></li>
<li><a class="reference internal" href="#define-labels-based-on-expressions" id="id45">Define labels based on expressions</a></li>
<li><a class="reference internal" href="#using-data-defined-override-for-labeling" id="id46">Using data-defined override for labeling</a></li>
<li><a class="reference internal" href="#rule-based-labeling" id="id47">Rule-based labeling</a></li>
</ul>
</li>
<li><a class="reference internal" href="#fields-menu" id="id48">Fields Menu</a></li>
<li><a class="reference internal" href="#joins-menu" id="id49">Joins Menu</a></li>
<li><a class="reference internal" href="#diagrams-menu" id="id50">Diagrams Menu</a><ul>
<li><a class="reference internal" href="#attributes" id="id51">Attributes</a></li>
<li><a class="reference internal" href="#appearance" id="id52">Appearance</a></li>
<li><a class="reference internal" href="#size" id="id53">Size</a></li>
<li><a class="reference internal" href="#placement" id="id54">Placement</a></li>
<li><a class="reference internal" href="#options" id="id55">Options</a></li>
<li><a class="reference internal" href="#case-study" id="id56">Case Study</a></li>
<li><a class="reference internal" href="#using-data-defined-override" id="id57">Using data-defined override</a></li>
</ul>
</li>
<li><a class="reference internal" href="#actions-menu" id="id58">Actions Menu</a><ul>
<li><a class="reference internal" href="#defining-actions" id="id59">Defining Actions</a></li>
<li><a class="reference internal" href="#using-actions" id="id60">Using Actions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#display-menu" id="id61">Display Menu</a></li>
<li><a class="reference internal" href="#id12" id="id62">Rendering Menu</a></li>
<li><a class="reference internal" href="#metadata-menu" id="id63">Metadata Menu</a></li>
<li><a class="reference internal" href="#save-and-share-layer-properties" id="id64">Save and Share Layer Properties</a><ul>
<li><a class="reference internal" href="#managing-custom-styles" id="id65">Managing Custom Styles</a></li>
<li><a class="reference internal" href="#storing-style-in-a-file-or-a-database" id="id66">Storing Style in a File or a Database</a></li>
</ul>
</li>
</ul>
</div>
<p>The <em class="guilabel">Layer Properties</em> dialog for a vector layer provides general
settings to manage appearance of layer features in the map (symbology, labeling,
diagrams), interaction with the mouse (actions, map tips, form design). It also
provides information about the layer.</p>
<p>To access the <em class="guilabel">Layer Properties</em> dialog, double-click on a layer in
the legend or right-click on the layer and select <em class="menuselection">Properties</em>
from the pop-up menu.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Depending on the <a class="reference external" href="http://plugins.qgis.org/plugins/">external plugins</a>
you have installed, new tabs may be added to the layer properties dialog.
Those are not presented below.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Switch quickly between different layer representations</strong></p>
<p class="last">Using the <em class="menuselection">Styles ‣ Add</em> combobox at the bottom of the
<em class="guilabel">Layer Properties</em> dialog, you can save as many combinations of
layer properties settings (symbology, labeling, diagram, fields form, actions...)
as you want. Then, simply switch between styles from the context menu of
the layer in <em class="guilabel">Layers Panel</em> to automatically get different
representations of your data.</p>
</div>
<div class="section" id="general-menu">
<span id="vectorgeneralmenu"></span><h2><a class="toc-backref" href="#id13">General Menu</a><a class="headerlink" href="#general-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/general.png"><img alt="general" src="../../../_images/general.png" style="width: 2em;" /></a> Use this menu to make general settings for the vector layer.
There are several options available:</p>
<div class="section" id="layer-info">
<h3><a class="toc-backref" href="#id14">Layer Info</a><a class="headerlink" href="#layer-info" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Change the display name of the layer in <em class="guilabel">displayed as</em></li>
<li>Define the <em class="guilabel">Layer source</em> of the vector layer</li>
<li>Define the <em class="guilabel">Data source encoding</em> to define provider-specific options
and to be able to read the file</li>
</ul>
</div>
<div class="section" id="coordinate-reference-system">
<h3><a class="toc-backref" href="#id15">Coordinate Reference System</a><a class="headerlink" href="#coordinate-reference-system" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><em class="guilabel">Specify</em> the coordinate reference system. Here, you
can view or change the projection of the specific vector layer.</li>
<li>Create a <em class="guilabel">Spatial Index</em> (only for OGR-supported formats)</li>
<li><em class="guilabel">Update Extents</em> information for a layer</li>
<li>View or change the projection of the specific vector layer, clicking on
<em class="guilabel">Specify ...</em></li>
</ul>
</div>
<div class="section" id="scale-dependent-visibility">
<h3><a class="toc-backref" href="#id16">Scale dependent visibility</a><a class="headerlink" href="#scale-dependent-visibility" title="Permalink to this headline">¶</a></h3>
<p>You can set the <em class="guilabel">Maximum (inclusive)</em> and <em class="guilabel">Minimum (exclusive)</em>
scale, defining a range of scale in which features will be visible.
Out of this range, they are hidden.
The <a class="reference internal" href="../../../_images/mActionMapIdentification.png"><img alt="mapIdentification" src="../../../_images/mActionMapIdentification.png" style="width: 1.5em;" /></a> <sup>Set to current canvas scale</sup> button helps
you use the current map canvas scale as boundary of the range visibility.</p>
<p><strong>Figure Vector General 1:</strong></p>
<div class="figure align-center" id="figure-vector-general-1">
<img alt="../../../_images/vector_general_menu.png" src="../../../_images/vector_general_menu.png" />
<p class="caption">General menu in vector layers properties dialog</p>
</div>
</div>
<div class="section" id="query-builder">
<span id="vector-query-builder"></span><h3><a class="toc-backref" href="#id17">Query Builder</a><a class="headerlink" href="#query-builder" title="Permalink to this headline">¶</a></h3>
<p>Under the <strong>Provider Feature Filter</strong> frame,
the <span class="target" id="index-0"></span>Query Builder allows you to define a subset of the features in the
layer using a SQL-like WHERE clause and to display the result in the main window.
As long as the query is active, only the features corresponding to its result
are available in the project. The query result can be saved as a new vector layer.</p>
<p>The <strong>Query Builder</strong> is accessible through the eponym term at the bottom of the
<em class="guilabel">General</em> menu in the Layer Properties.
Under <em class="guilabel">Feature subset</em>, click on the <strong>[Query Builder]</strong> button
to open the <em class="guilabel">Query builder</em>.
For example, if you have a <tt class="docutils literal"><span class="pre">regions</span></tt> layer with a <tt class="docutils literal"><span class="pre">TYPE_2</span></tt> field, you could
select only regions that are <tt class="docutils literal"><span class="pre">borough</span></tt> in the <em class="guilabel">Provider specific filter expression</em>
box of the Query Builder. <a class="reference internal" href="#figure-vector-general-2">Figure_vector_general_2</a> shows an example of the Query Builder
populated with the <tt class="file docutils literal"><span class="pre">regions.shp</span></tt> layer from the QGIS sample data.
The Fields, Values and Operators sections help you to construct the SQL-like
query.</p>
<p id="figure-vector-general-2"><strong>Figure Vector General 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/queryBuilder.png" src="../../../_images/queryBuilder.png" />
<p class="caption">Query Builder</p>
</div>
<p>The <strong>Fields list</strong> contains all attribute columns of the attribute table to be
searched. To add an attribute column to the SQL WHERE clause field, double click
its name in the Fields list. Generally, you can use the various fields, values and
operators to construct the query, or you can just type it into the SQL box.</p>
<p>The <strong>Values list</strong> lists the values of an attribute table. To list all possible
values of an attribute, select the attribute in the Fields list and click
the <strong>[all]</strong> button. To list the first 25 unique values of an attribute column,
select the attribute column in the Fields list and click the
<strong>[Sample]</strong> button. To add a value to the SQL WHERE clause field, double
click its name in the Values list.</p>
<p>The <strong>Operators section</strong> contains all usable operators. To add an operator
to the SQL WHERE clause field, click the appropriate button. Relational
operators ( <tt class="docutils literal"><span class="pre">=</span></tt> , <tt class="docutils literal"><span class="pre">&gt;</span></tt> , ...), string comparison operator (<tt class="docutils literal"><span class="pre">LIKE</span></tt>), and logical
operators (<tt class="docutils literal"><span class="pre">AND</span></tt>, <tt class="docutils literal"><span class="pre">OR</span></tt>, ...) are available.</p>
<p>The <strong>[Test]</strong> button shows a message box with the number of features
satisfying the current query, which is useful in the process of query
construction. The <strong>[Clear]</strong> button clears the text in the SQL WHERE
clause text field. The <strong>[OK]</strong> button closes the window and selects
the features satisfying the query. The <strong>[Cancel]</strong> button closes the
window without changing the current selection.</p>
<p>QGIS treats the resulting subset acts as if it where the entire layer.
For example if you applied the filter above for &#8216;Borough&#8217;, you can not
display, query, save or edit Anchorage, because that is a &#8216;Municipality&#8217;
and therefore not part of the subset.</p>
<p>The only exception is that unless your layer is part of a database, using
a subset will prevent you from editing the layer.</p>
</div>
</div>
<div class="section" id="style-menu">
<span id="vector-style-menu"></span><span id="index-1"></span><h2><a class="toc-backref" href="#id18">Style Menu</a><a class="headerlink" href="#style-menu" title="Permalink to this headline">¶</a></h2>
<p>The <span class="target" id="index-2"></span>Style menu provides you with a comprehensive tool for rendering and
symbolizing your vector data.
You can use tools that are common to all vector data, as well as special symbolizing
tools that were designed for the different kinds of vector data. However all types share
the following dialog structure: in the upper part, you have a widget that helps you
prepare the classification and the symbol to use for features
and at the bottom the <a class="reference internal" href="#layer-rendering"><em>Layer rendering</em></a> widget.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Export vector symbology</strong></p>
<p class="last">You have the option to export vector symbology from QGIS into Google *.kml,
*.dxf and MapInfo *.tab files. Just open the right mouse menu of the layer
and click on <em class="menuselection">Save As...</em> to specify the name
of the output file and its format.
In the dialog, use the <em class="menuselection">Symbology export</em> menu to save the symbology
either as <em class="menuselection">Feature symbology ‣</em> or as <em class="menuselection">Symbol
layer symbology ‣</em>.
If you have used symbol layers, it is recommended to use the second setting.</p>
</div>
<div class="section" id="features-rendering">
<h3><a class="toc-backref" href="#id19">Features rendering</a><a class="headerlink" href="#features-rendering" title="Permalink to this headline">¶</a></h3>
<p>The renderer is responsible for drawing a feature together with the correct
symbol. Regardless layer geometry type, there are four common types of renderers:
single symbol, categorized, graduated and rule-based. For point layers, there are
a point displacement and a heatmap renderers available while polygon layers can
also be rendered with the inverted renderer.</p>
<p>There is no continuous color renderer, because it is in fact only a special case
of the graduated renderer. The categorized and graduated renderers can be created
by specifying a symbol and a color ramp - they will set the colors for symbols
appropriately.
For each data type (points, lines and polygons), vector symbol layer types are available.
Depending on the chosen renderer, the dialog provides different additional sections.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you change the renderer type when setting the style of a vector layer the settings
you made for the symbol will be maintained. Be aware that this procedure only works
for one change. If you repeat changing the renderer type the settings for the symbol
will get lost.</p>
</div>
<div class="section" id="single-symbol-renderer">
<span id="index-3"></span><span id="id1"></span><h4><a class="toc-backref" href="#id20">Single Symbol Renderer</a><a class="headerlink" href="#single-symbol-renderer" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererSingleSymbol.png"><img alt="singleSymbol" src="../../../_images/rendererSingleSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Single Symbol</em> Renderer is used to render
all features of the layer using a single user-defined symbol.
See <a class="reference internal" href="style_library.html#symbol-selector"><em>The symbol Selector</em></a> for further information about symbol representation.</p>
<p id="figure-symbology-1"><strong>Figure Symbology 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/singlesymbol_ng_line.png" src="../../../_images/singlesymbol_ng_line.png" />
<p class="caption">Single symbol line properties</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>edit symbol directly from layer panel</strong></p>
<p class="last">If in your <strong>Layers Panel</strong> you have layers with categories defined through
categorized, graduated or rule-based style mode, you can quickly change the
fill color of the symbol of the categories by right-clicking on a category
and choose the color you prefer from a <a class="reference internal" href="../../../_images/mIconColorWheel.png"><img alt="colorWheel" src="../../../_images/mIconColorWheel.png" style="width: 1.5em;" /></a> <sup>color wheel</sup> menu.
Right-clicking on a category will also give you access to the options <strong>Hide
all items</strong>, <strong>Show all items</strong> <strong>and Edit symbol</strong>.</p>
</div>
</div>
<div class="section" id="no-symbols-renderer">
<span id="no-symbol-renderer"></span><span id="index-4"></span><h4><a class="toc-backref" href="#id21">No Symbols Renderer</a><a class="headerlink" href="#no-symbols-renderer" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererNullSymbol.png"><img alt="nullSymbol" src="../../../_images/rendererNullSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">No Symbols</em> renderer is a special use case of the
Single Symbol renderer as it applies the same rendering to all features.
Using this renderer, no symbol will be drawn for features,
but labeling, diagrams and other non-symbol parts will still be shown.</p>
<p>Selections can still be made on the layer in the canvas and selected
features will be rendered with a default symbol. Features being edited
will also be shown.</p>
<p>This is intended as a handy shortcut for layers which you only want
to show labels or diagrams for, and avoids the need to render
symbols with totally transparent fill/border to achieve this.</p>
</div>
<div class="section" id="categorized-renderer">
<span id="categorized-rendered"></span><span id="index-5"></span><h4><a class="toc-backref" href="#id22">Categorized Renderer</a><a class="headerlink" href="#categorized-renderer" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererCategorizedSymbol.png"><img alt="categorizedSymbol" src="../../../_images/rendererCategorizedSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Categorized Renderer</em> is used to render
all features from a layer, using an user-defined symbol whose aspect reflects
the value of a selected feature&#8217;s attribute. The <span class="target" id="index-6"></span>Categorized menu allows
you to select:</p>
<ul class="simple">
<li>The attribute (using the Column listbox or the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function, see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter)</li>
<li>The symbol (using the <a class="reference internal" href="style_library.html#symbol-selector"><em>The symbol Selector</em></a> dialog) which will be used as default
for each class</li>
<li>The range of colors (using the Color ramp listbox) from which color applied
to the symbol is selected</li>
</ul>
<p>Then click on Classify button to create <span class="target" id="index-7"></span>classes from the distinct value of
the attribute column. Each class can be disabled unchecking the checkbox at
the left of the class name.</p>
<p>To change symbol, value and/or label of the class, just double click
on the item you want to change.</p>
<p>Right-click shows a contextual menu to <strong>Copy/Paste</strong>, <strong>Change color</strong>, <strong>Change
transparency</strong>, <strong>Change output unit</strong>, <strong>Change symbol width</strong>.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-2">figure_symbology_2</a> shows the category rendering dialog used
for the rivers layer of the QGIS sample dataset.</p>
<p id="figure-symbology-2"><strong>Figure Symbology 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/categorysymbol_ng_line.png" src="../../../_images/categorysymbol_ng_line.png" />
<p class="caption">Categorized Symbolizing options</p>
</div>
<div class="admonition tip" id="tip-change-multiple-symbols">
<p class="first admonition-title">Tip</p>
<p><strong>Select and change multiple symbols</strong></p>
<p class="last">The Symbology allows you to select multiple symbols and right
click to change color, transparency, size, or width of selected
entries.</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Match categories to symbol name</strong></p>
<p class="last">In the [Advanced] menu, under the classes, you can choose one of the two
first actions to match symbol name to a category name in your classification.
<em>Matched to saved symbols</em> match category name with a symbol name from your
<em>Style Manager</em>. <em>Match to symbols from file</em> match category name to a
symbol name from an external file.</p>
</div>
<span class="target" id="index-8"></span></div>
<div class="section" id="graduated-renderer">
<span id="index-9"></span><span id="id2"></span><h4><a class="toc-backref" href="#id23">Graduated Renderer</a><a class="headerlink" href="#graduated-renderer" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererGraduatedSymbol.png"><img alt="graduatedSymbol" src="../../../_images/rendererGraduatedSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Graduated Renderer</em> is used to render
all the features from a layer, using an user-defined symbol whose color or size
reflects the assignment of a selected feature&#8217;s attribute to a class.</p>
<p>Like the Categorized Renderer, the <span class="target" id="index-10"></span>Graduated Renderer allows you
to define rotation and size scale from specified columns.</p>
<p>Also, analogous to the Categorized Renderer, it allows you to select:</p>
<ul class="simple">
<li>The attribute (using the Column listbox or the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function)</li>
<li>The symbol (using the Symbol selector dialog)</li>
<li>The legend format and the precision</li>
<li>The method to use to change the symbol: color or size</li>
<li>The colors (using the color Ramp list) if the color method is selected</li>
<li>The size (using the size domain and its unit</li>
</ul>
<p>Then you can use the <span class="target" id="index-11"></span>Histogram tab which shows an interactive histogram of the
values from the assigned field or expression. Class breaks can be moved or
added using the histogram widget.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can use Statistical Summary panel to get more information on your vector
layer. See <a class="reference internal" href="../introduction/general_tools.html#statistical-summary"><em>Statistical Summary Panel</em></a>.</p>
</div>
<p>Back to the Classes tab, you can specify the number of classes and also the mode for
classifying features within the classes (using the Mode list). The available
modes are:</p>
<ul class="simple">
<li>Equal Interval: each class has the same size (e.g. values from 0 to 16 and
4 classes, each class has a size of 4);</li>
<li>Quantile: each class will have the same number of element inside
(the idea of a boxplot);</li>
<li>Natural Breaks (Jenks): the variance within each class is minimal while the
variance between classes is maximal;</li>
<li>Standard Deviation: classes are built depending on the standard deviation of
the values;</li>
<li>Pretty Breaks: Computes a sequence of about n+1 equally spaced nice values
which cover the range of the values in x. The values are chosen so that they
are 1, 2 or 5 times a power of 10. (based on pretty from the R statistical
environment <a class="reference external" href="http://astrostatistics.psu.edu/datasets/R/html/base/html/pretty.html">http://astrostatistics.psu.edu/datasets/R/html/base/html/pretty.html</a>)</li>
</ul>
<p>The listbox in the center part of the <em class="guilabel">Style</em> menu lists the classes
together with their ranges, labels and symbols that will be rendered.</p>
<p>Click on <strong>Classify</strong> button to create classes using the chosen mode. Each
classes can be disabled unchecking the checkbox at the left of the class name.</p>
<p>To change symbol, value and/or label of the class, just double click
on the item you want to change.</p>
<p>Right-click shows a contextual menu to <strong>Copy/Paste</strong>, <strong>Change color</strong>, <strong>Change
transparency</strong>, <strong>Change output unit</strong>, <strong>Change symbol width</strong>.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-3">figure_symbology_3</a> shows the graduated rendering dialog for
the rivers layer of the QGIS sample dataset.</p>
<p id="figure-symbology-3"><strong>Figure Symbology 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/graduatesymbol_ng_line.png" src="../../../_images/graduatesymbol_ng_line.png" />
<p class="caption">Graduated Symbolizing options</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Thematic maps using an expression</strong></p>
<p class="last">Categorized and graduated thematic maps can be created using the result
of an expression. In the properties dialog for vector layers, the attribute
chooser is extended with a <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function.
So you don&#8217;t need to write the classification attribute
to a new column in your attribute table if you want the classification
attribute to be a composite of multiple fields, or a formula of some sort.</p>
</div>
</div>
<div class="section" id="proportional-symbol-and-multivariate-analysis">
<span id="proportional-symbols"></span><span id="index-12"></span><h4><a class="toc-backref" href="#id24">Proportional Symbol and Multivariate Analysis</a><a class="headerlink" href="#proportional-symbol-and-multivariate-analysis" title="Permalink to this headline">¶</a></h4>
<p>Proportional Symbol and Multivariate Analysis are not
rendering types available from the Style rendering drop-down list.
However with the <strong>Size Assistant</strong> options applied over any of the previous
rendering options, QGIS allows you to display your point and line data with
such representation.</p>
<p id="size-assistant"><strong>Creating proportional symbol</strong></p>
<p>Proportional rendering is done by first applying to the layer the <a class="reference internal" href="#single-symbol-renderer"><em>Single Symbol Renderer</em></a>.
Once you set the symbol, at the upper level of the symbol tree, the
<a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> <em class="guilabel">Data-defined override</em> button available beside
<em class="guilabel">Size</em> or <em class="guilabel">Width</em> options (for point or line layers
respectively) provides tool to create proportional symbology for the layer.
An assistant is moreover accessible through the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> menu
to help you define size expression.</p>
<p id="figure-symbology-4"><strong>Figure Symbology 4:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/varying_size_assistant.png" src="../../../_images/varying_size_assistant.png" />
<p class="caption">Varying size assistant</p>
</div>
<p>The assistant lets you define:</p>
<ul class="simple">
<li>The attribute to represent, using the Field listbox or the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a>
<em class="guilabel">Set column expression</em> function (see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a>)</li>
<li>the scale method of representation which can be &#8216;Flannery&#8217;, &#8216;Surface&#8217; or &#8216;Radius&#8217;</li>
<li>The minimum and maximum size of the symbol</li>
<li>The range of values to represent: The down pointing arrow helps you
fill automatically these fields with the minimum (or zero) and maximum values
returned by the chosen attribute or the expression applied to your data.</li>
<li>An unique size to represent NULL values.</li>
</ul>
<p>To the right side of the dialog, you can preview the features representation
within a live-update widget. This representation is added to the layer tree in the
layer legend and is also used to shape the layer representation in the
print composer legend item.</p>
<p>The values presented in the varying size assistant above will set the size
&#8216;Data-defined override&#8217; with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">coalesce</span><span class="p">(</span><span class="n">scale_exp</span><span class="p">(</span><span class="n">Importance</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.57</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Creating multivariate analysis</strong></p>
<p>A multivariate analysis rendering helps you evaluate the relationship between
two or more variables e.g., one can be represented by a color ramp while the other is
represented by a size.</p>
<p>The simplest way to create multivariate analysis in QGIS is to first apply
a categorized or graduated rendering on a layer, using the same type of symbol
for all the classes. Then, clicking on the symbol <strong>[Change]</strong> button above the
classification frame, you get the <a class="reference internal" href="style_library.html#symbol-selector"><em>The symbol Selector</em></a> dialog from which,
as seen above, you can activate and set the <a class="reference internal" href="#size-assistant"><em>size assistant</em></a>
option either on size (for point layer) or width (for line layer).</p>
<p>Like the proportional symbol, the size-related symbol is added to the layer tree,
at the top of the categorized or graduated classes symbols. And both representation
are also available in the print composer legend item.</p>
<p id="figure-symbology-5"><strong>Figure Symbology 5:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/multivariate_example.png" src="../../../_images/multivariate_example.png" />
<p class="caption">Multivariate example</p>
</div>
</div>
<div class="section" id="rule-based-rendering">
<span id="index-13"></span><span id="id3"></span><h4><a class="toc-backref" href="#id25">Rule-based rendering</a><a class="headerlink" href="#rule-based-rendering" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererRuleBasedSymbol.png"><img alt="ruleBasedSymbol" src="../../../_images/rendererRuleBasedSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Rule-based Renderer</em> is used to render
all the features from a layer,
using <span class="target" id="index-14"></span>rule-based symbols whose aspect reflects the assignment of a selected
feature&#8217;s attribute to a class. The rules are based on SQL statements.
The dialog allows rule grouping by filter or scale, and you can decide
if you want to enable symbol levels or use only the first-matched rule.</p>
<p>To <span class="target" id="index-15"></span>create a rule, activate an existing row by double-clicking on it, or
click on &#8216;+&#8217; and click on the new rule. In the <em class="guilabel">Rule properties</em> dialog,
you can define a label for the rule. Press the <a class="reference internal" href="../../../_images/browsebutton.png"><img alt="browseButton" src="../../../_images/browsebutton.png" style="width: 2.3em;" /></a> button to open the
expression string builder.
In the <strong>Function List</strong>, click on <em class="guilabel">Fields and Values</em> to view all
attributes of the attribute table to be searched.
To add an attribute to the field calculator <strong>Expression</strong> field,
double click on its name in the <em class="guilabel">Fields and Values</em> list. Generally, you
can use the various fields, values and functions to construct the calculation
expression, or you can just type it into the box (see <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a>).
You can create a new rule by copying and pasting an existing rule with the right
mouse button. You can also use the &#8216;ELSE&#8217; rule that will be run if none of the other
rules on that level matches.
Since QGIS 2.8 the rules appear in a tree hierarchy in the map legend. Just
double-click the rules in the map legend and the Style menu of the layer properties
appears showing the rule that is the background for the symbol in the tree.</p>
<p>The example in <a class="reference internal" href="#figure-symbology-5">figure_symbology_5</a> shows the rule-based rendering dialog
for the rivers layer of the QGIS sample dataset.</p>
<p id="figure-symbology-6"><strong>Figure Symbology 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/rulesymbol_ng_line.png" src="../../../_images/rulesymbol_ng_line.png" />
<p class="caption">Rule-based Symbolizing options</p>
</div>
<span class="target" id="index-16"></span></div>
<div class="section" id="point-displacement">
<span id="index-17"></span><span id="id4"></span><h4><a class="toc-backref" href="#id26">Point displacement</a><a class="headerlink" href="#point-displacement" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererPointDisplacementSymbol.png"><img alt="pointDisplacementSymbol" src="../../../_images/rendererPointDisplacementSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Point Displacement</em> renderer
works to visualize all features of a point layer, even if they have the same location.
To do this, the symbols of the points are placed on a <span class="target" id="index-18"></span>displacement circle
around one center symbol or on several concentric circles.</p>
<p id="figure-symbology-7"><strong>Figure Symbology 7:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/poi_displacement.png" src="../../../_images/poi_displacement.png" />
<p class="caption">Point displacement dialog</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can still render features with other renderer like Single symbol, Graduated,
Categorized or Rule-Based renderer using the <em class="guilabel">Renderer</em> drop-down
list then the <em class="guilabel">Renderer Settings...</em> button.</p>
</div>
</div>
<div class="section" id="inverted-polygon">
<span id="inverted-polygon-renderer"></span><span id="index-19"></span><h4><a class="toc-backref" href="#id27">Inverted Polygon</a><a class="headerlink" href="#inverted-polygon" title="Permalink to this headline">¶</a></h4>
<p>The <a class="reference internal" href="../../../_images/rendererInvertedSymbol.png"><img alt="invertedSymbol" src="../../../_images/rendererInvertedSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Inverted Polygon</em> renderer allows user
to define a symbol to fill in
outside of the layer&#8217;s polygons. As above you can select subrenderers, namely
Single symbol, Graduated, Categorized, Rule-Based or 2.5 D renderer.</p>
<p id="figure-symbology-8"><strong>Figure Symbology 8:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/inverted_polygon_symbol.png" src="../../../_images/inverted_polygon_symbol.png" />
<p class="caption">Inverted Polygon dialog</p>
</div>
</div>
<div class="section" id="heatmap">
<span id="index-20"></span><span id="id5"></span><h4><a class="toc-backref" href="#id28">Heatmap</a><a class="headerlink" href="#heatmap" title="Permalink to this headline">¶</a></h4>
<p>With the <a class="reference internal" href="../../../_images/rendererHeatmapSymbol.png"><img alt="heatmapSymbol" src="../../../_images/rendererHeatmapSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">Heatmap</em> renderer you can create live
dynamic heatmaps for (multi)point layers.
You can specify the <span class="target" id="index-21"></span>heatmap radius in pixels, mm or map units, choose and
edit a color ramp for the heatmap style and use a slider for selecting a trade-off
between render speed and quality. You can also define a maximum value limit and give a
weight to points using a field or an expression. When adding or removing a feature
the heatmap renderer updates the heatmap style automatically.</p>
<p id="figure-symbology-9"><strong>Figure Symbology 9:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/heatmap_symbol.png" src="../../../_images/heatmap_symbol.png" />
<p class="caption">Heatmap dialog</p>
</div>
</div>
<div class="section" id="d">
<span id="d-rendering"></span><span id="index-22"></span><h4><a class="toc-backref" href="#id29">2.5 D</a><a class="headerlink" href="#d" title="Permalink to this headline">¶</a></h4>
<p>Using the <a class="reference internal" href="../../../_images/renderer25dSymbol.png"><img alt="25dSymbol" src="../../../_images/renderer25dSymbol.png" style="width: 1.5em;" /></a> <em class="guilabel">2.5 D</em> renderer it&#8217;s possible to create
a <span class="target" id="index-23"></span>2.5 D effect on your layer&#8217;s features.
You start by choosing a <em class="guilabel">Height</em> value (in map units). For that
you can use a fixed value, one of your layer&#8217;s fields, or an expression. You also
need to choose an <em class="guilabel">Angle</em> (in degrees) to recreate the viewer position
(0° means west, growing in counter clock wise). Use advanced configuration options
to set the <em class="guilabel">Roof Color</em> and <em class="guilabel">Wall Color</em>. If you would like
to simulate solar radiation on the features walls, make sure to check the
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Shade walls based on aspect</em> option. You can also
simulate a shadow by setting a <em class="guilabel">Color</em> and <em class="guilabel">Size</em> (in map
units).</p>
<p id="figure-symbology-10"><strong>Figure Symbology 10:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/2_5dsymbol.png" src="../../../_images/2_5dsymbol.png" />
<p class="caption">2.5 D dialog</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Using 2.5 D effect with other renderers</strong></p>
<p class="last">Once you have finished setting the basic style on the 2.5 D renderer, you can
convert this to another renderer (single, categorized, graduated). The 2.5 D
effects will be kept and all other renderer specific options will be
available for you to fine tune them (this way you can have for example categorized
symbols with a nice 2.5 D representation or add some extra styling to your 2.5 D
symbols). To make sure that the shadow and the &#8220;building&#8221; itself do not interfere
with other nearby features, you may need to enable Symbols Levels (
<em class="menuselection">Advanced ‣ Symbol levels...</em>).
The 2.5 D height and angle values are saved in the layer&#8217;s variables,
so you can edit it afterwards in the variables tab of the layer&#8217;s properties dialog.</p>
</div>
</div>
</div>
<div class="section" id="layer-rendering">
<span id="id6"></span><h3><a class="toc-backref" href="#id30">Layer rendering</a><a class="headerlink" href="#layer-rendering" title="Permalink to this headline">¶</a></h3>
<p>From the Style tab, you can also set some options that invariabily act on all
features of the layer:</p>
<ul>
<li><p class="first"><em class="guilabel">Layer transparency</em> <img alt="slider" src="../../../_images/slider.png" />: You can make the underlying layer in
the map canvas visible with this tool. Use the slider to adapt the visibility
of your vector layer to your needs. You can also make a precise definition of
the percentage of visibility in the the menu beside the slider.</p>
</li>
<li><p class="first"><em class="guilabel">Layer blending mode</em> and <em class="guilabel">Feature blending mode</em>: You can
achieve special rendering effects with these tools that you may
previously only know from graphics programs. The pixels of your overlaying and
underlaying layers are mixed through the settings described in <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><em>Blending Modes</em></a>.</p>
</li>
<li><p class="first">Apply <a class="reference internal" href="#draw-effects"><em>paint effects</em></a> on all the layer features with the
<em class="guilabel">Draw Effects</em> button.</p>
</li>
<li><p class="first"><em class="guilabel">Control feature rendering order</em> allows you, using features
attributes, to define the <span class="target" id="index-24"></span>z-order in which they shall be rendered.
Activate the checkbox and click on the <a class="reference internal" href="../../../_images/browsebutton.png"><img alt="browseButton" src="../../../_images/browsebutton.png" style="width: 2.3em;" /></a> button beside.
You then get the <em class="guilabel">Define Order</em> dialog in which you:</p>
<ul class="simple">
<li>choose a field or build an expression to apply to the layer features</li>
<li>set in which order the fetched features should be sorted, i.e. if you choose
<strong>Ascending</strong> order, the features with lower value are rendered under those
with upper value.</li>
<li>define when features returning NULL value should be rendered: <strong>first</strong> or <strong>last</strong>.</li>
</ul>
<p>You can add several <span class="target" id="index-25"></span>rules of ordering. The first rule is applied
to all the features in the layer, z-ordering them according to the value returned.
Then, for each group of features with the same value (including those with
NULL value) and thus same z-level, the next rule is applied to sort its items
among them.
And so on...</p>
<p>Once the <em class="guilabel">Define Order</em> dialog is applied, a summary of the expression(s)
used to control the <span class="target" id="index-26"></span>layer rendering is retranscribed in the textbox
beside <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Control feature rendering order</em> option.</p>
</li>
</ul>
<p id="figure-layer-rendering-1"><strong>Figure Layer Rendering 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/layer_rendering_options.png" src="../../../_images/layer_rendering_options.png" />
<p class="caption">Layer rendering options</p>
</div>
</div>
<div class="section" id="other-settings">
<h3><a class="toc-backref" href="#id31">Other Settings</a><a class="headerlink" href="#other-settings" title="Permalink to this headline">¶</a></h3>
<div class="section" id="symbols-levels">
<span id="index-27"></span><span id="id7"></span><h4><a class="toc-backref" href="#id32">Symbols levels</a><a class="headerlink" href="#symbols-levels" title="Permalink to this headline">¶</a></h4>
<p>For renderers that allow stacked symbol layers (only heatmap doesn&#8217;t) there is
an option to control the rendering order of each symbol&#8217;s levels.</p>
<p>For most of the renderers, you can access the Symbols levels option by clicking
the <strong>[Advanced]</strong> button below the saved symbols list and choosing
<em class="guilabel">Symbol levels</em>. For the <a class="reference internal" href="#rule-based-rendering"><em>Rule-based rendering</em></a> the option is
directly available through <strong>[Symbols levels]</strong> button, while for
<a class="reference internal" href="#point-displacement"><em>Point displacement</em></a> renderer the same button is inside the
<em class="guilabel">Rendering settings</em> dialog.</p>
<p>To activate symbols levels, select the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Enable symbol
levels</em>. Each row will show up a small sample of the combined symbol, its label
and the individual symbols layer divided into columns with a number next to it.
The numbers represent the rendering order level in which the symbol layer
will be drawn. Lower values levels are drawn first, staying at the bottom, while
higher values are drawn last, on top of the others.</p>
<p id="figure-symbol-levels-1"><strong>Figure Symbols levels 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/symbol_levels.png" src="../../../_images/symbol_levels.png" />
<p class="caption">Symbol levels dialog</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If symbols levels are deactivated, the complete symbols will be drawn
according to their respective features order. Overlapping symbols will
simply obfuscate to other below. Besides, similar symbols won&#8217;t &#8220;merge&#8221; with
each other.</p>
</div>
<p id="figure-symbol-levels-2"><strong>Figure Symbols levels 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/symbol_levels_examples.png" src="../../../_images/symbol_levels_examples.png" />
<p class="caption">Symbol levels activated (A) and deactivated (B) difference</p>
</div>
</div>
<div class="section" id="draw-effects">
<span id="index-28"></span><span id="id8"></span><h4><a class="toc-backref" href="#id33">Draw effects</a><a class="headerlink" href="#draw-effects" title="Permalink to this headline">¶</a></h4>
<p>In order to improve layer rendering and avoid (or at least reduce)
the resort to other software for final rendering of maps, QGIS provides another
powerful functionality: the <a class="reference internal" href="../../../_images/mIconPaintEffects.png"><img alt="paintEffects" src="../../../_images/mIconPaintEffects.png" style="width: 1.5em;" /></a> <em class="guilabel">Draw Effects</em> options,
which adds paint effects for customizing the visualization of vector layers.</p>
<p>The option is available in the <em class="guilabel">Layer Properties &#8211;&gt; Style</em> dialog,
under the <a class="reference internal" href="#layer-rendering"><em>Layer rendering</em></a> group (applying to the whole
layer) or in <a class="reference internal" href="style_library.html#symbol-selector"><em>symbol layer properties</em></a> (applying
to corresponding features). You can combine both usage.</p>
<p>Paint effects can be activated by checking the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Draw effects</em> option
and clicking the <a class="reference internal" href="../../../_images/mIconPaintEffects.png"><img alt="paintEffects" src="../../../_images/mIconPaintEffects.png" style="width: 1.5em;" /></a> <sup>Customize effects</sup> button, that will open
the <em class="guilabel">Effect Properties</em> Dialog (see <a class="reference internal" href="#figure-effects-1">figure_effects_1</a>). The following
effect types, with custom options are available:</p>
<ul>
<li><p class="first"><strong>Source:</strong> Draws the feature&#8217;s original style according to the
configuration of the layer&#8217;s properties. The transparency of its style can be adjusted.</p>
<p id="figure-effects-1"><strong>Figure Effects 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/source.png" src="../../../_images/source.png" />
<p class="caption">Draw Effects: Source dialog</p>
</div>
</li>
<li><p class="first"><strong>Blur:</strong> Adds a blur effect on the vector layer. The options that someone can change are the
<em class="menuselection">Blur type</em> (<em class="menuselection">Stack</em> or <em class="menuselection">Gaussian blur</em>),
the strength and transparency of the blur effect.</p>
<p id="figure-effects-2"><strong>Figure Effects 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/blur.png" src="../../../_images/blur.png" />
<p class="caption">Draw Effects: Blur dialog</p>
</div>
</li>
<li><p class="first"><strong>Colorize:</strong> This effect can be used to make a version of the style using one
single hue. The base will always be a grayscale version of the symbol and you
can use the <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="guilabel">Grayscale</em> to select how to create it
(options are: &#8216;lightness&#8217;, &#8216;luminosity&#8217; and &#8216;average&#8217;). If <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a>
<em class="guilabel">Colorise</em> is selected, it will be possible to mix another color
and choose how strong it should be. You can also control the
<em class="guilabel">Brightness</em>, <em class="guilabel">contrast</em> and
<em class="guilabel">saturation</em> levels of the resulting symbol.</p>
<p id="figure-effects-3"><strong>Figure Effects 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/colorise.png" src="../../../_images/colorise.png" />
<p class="caption">Draw Effects: Colorize dialog</p>
</div>
</li>
<li><p class="first"><strong>Drop Shadow:</strong> Using this effect adds a shadow on the feature, which looks like adding an
extra dimension. This effect can be customized by changing the <em class="menuselection">offset</em>
degrees and radius, determining where the shadow shifts towards to and the proximity to
the source object. <em class="menuselection">Drop Shadow</em> also has the option to change the blur radius,
the transparency and the color of the effect.</p>
<p id="figure-effects-4"><strong>Figure Effects 4:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/drop_shadow.png" src="../../../_images/drop_shadow.png" />
<p class="caption">Draw Effects: Drop Shadow dialog</p>
</div>
</li>
<li><p class="first"><strong>Inner Shadow:</strong> This effect is similar to the <em class="menuselection">Drop Shadow</em> effect, but it adds
the shadow effect on the inside of the edges of the feature. The available options for customization
are the same as the <em class="menuselection">Drop Shadow</em> effect.</p>
<p id="figure-effects-5"><strong>Figure Effects 5:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/inner_shadow.png" src="../../../_images/inner_shadow.png" />
<p class="caption">Draw Effects: Inner Shadow dialog</p>
</div>
</li>
<li><p class="first"><strong>Inner Glow:</strong> Adds a glow effect inside the feature. This effect can be customized by adjusting
the <em class="menuselection">spread</em> (width) of the glow, or the <em class="menuselection">Blur radius</em>.
The latter specifies the proximity from the edge of the feature where you want any blurring to happen.
Additionally, there are options to customize the color of the glow, with a single color or a color ramp.</p>
<p id="figure-effects-6"><strong>Figure Effects 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/inner_glow.png" src="../../../_images/inner_glow.png" />
<p class="caption">Draw Effects: Inner Glow dialog</p>
</div>
</li>
<li><p class="first"><strong>Outer Glow:</strong> This effect is similar to the <em class="menuselection">Inner Glow</em> effect, but it adds
the glow effect on the outside of the edges of the feature. The available options for customization
are the same as the <em class="menuselection">Inner Glow</em> effect.</p>
<p id="figure-effects-7"><strong>Figure Effects 7:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/outer_glow.png" src="../../../_images/outer_glow.png" />
<p class="caption">Draw Effects: Outer Glow dialog</p>
</div>
</li>
<li><p class="first"><strong>Transform:</strong> Adds the possibility of transforming the shape of the symbol.
The first options available for customization are the <em class="menuselection">Reflect horizontal</em>
and <em class="menuselection">Reflect vertical</em>, which actually create a reflection on the
horizontal and/or vertical axes. The 4 other options are:</p>
<ul class="simple">
<li><em class="menuselection">Shear</em>: slants the feature along the x and/or y axis</li>
<li><em class="menuselection">Scale</em>: enlarges or minimizes the feature along the x and/or y axis
by the given percentage</li>
<li><em class="menuselection">Rotation</em>: turns the feature around its center point</li>
<li>and <em class="menuselection">Translate</em> changes the position of the item based on a distance
given on the x and/or the y axis.</li>
</ul>
<p id="figure-effects-8"><strong>Figure Effects 8:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/transform.png" src="../../../_images/transform.png" />
<p class="caption">Draw Effects: Transform dialog</p>
</div>
</li>
</ul>
<p>There are some common options available for all draw effect types.
<em class="guilabel">Transparency</em> and <em class="guilabel">Blend mode</em> options work similar
to the ones described in <a class="reference internal" href="#layer-rendering"><em>Layer rendering</em></a> and can be used in all draw
effects except for the transform one.</p>
<p>One or more draw effects can used at the same time. You activate/deactivate an effect
using its checkbox in the effects list. You can change the selected effect type by
using the <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="guilabel">Effect type</em> option. You can reorder the effects
using <a class="reference internal" href="../../../_images/mActionArrowUp.png"><img alt="arrowUp" src="../../../_images/mActionArrowUp.png" style="width: 1.5em;" /></a> <sup>Move up</sup> and <a class="reference internal" href="../../../_images/mActionArrowDown.png"><img alt="arrowDown" src="../../../_images/mActionArrowDown.png" style="width: 1.5em;" /></a> <sup>Move down</sup>
buttons, and also add/remove effects using the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="signPlus" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>Add effect</sup>
and <a class="reference internal" href="../../../_images/symbologyRemove.png"><img alt="signMinus" src="../../../_images/symbologyRemove.png" style="width: 1.5em;" /></a> <sup>Remove effect</sup> buttons.</p>
<p>There is also a <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="guilabel">Draw mode</em> option available for
every draw effect, and you can choose whether to render and/or to modify the
symbol. Effects render from top to bottom.&#8217;Render only&#8217; mode means that the
effect will be visible while the &#8216;Modify only&#8217; mode means that the effect will
not be visible but the changes that it applies will be passed to the next effect
(the one immediately below). The &#8216;Render and Modify&#8217; mode will make the
effect visible and pass any changes to the next effect. If the effect is in the
top of the effects list or if the immediately above effect is not in modify
mode, then it will use the original source symbol from the layers properties
(similar to source).</p>
</div>
</div>
</div>
<div class="section" id="labels-menu">
<span id="vector-labels-tab"></span><h2><a class="toc-backref" href="#id34">Labels Menu</a><a class="headerlink" href="#labels-menu" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="../../../_images/labelingSingle.png"><img alt="labeling" src="../../../_images/labelingSingle.png" style="width: 1.5em;" /></a> <sup>Labels</sup> core application provides smart
<span class="target" id="index-29"></span>labeling for vector point, line and polygon layers, and only requires a
few parameters. This application also supports on-the-fly transformed layers.
The following menus are used to configure the labeling of vector layers:</p>
<ul class="simple">
<li>Text</li>
<li>Formatting</li>
<li>Buffer</li>
<li>Background</li>
<li>Shadow</li>
<li>Placement</li>
<li>Rendering</li>
</ul>
<p>To label a layer start QGIS and load a vector layer. Activate the layer
in the legend and click on the <a class="reference internal" href="../../../_images/labelingSingle.png"><img alt="labeling" src="../../../_images/labelingSingle.png" style="width: 1.5em;" /></a> <sup>Layer Labeling Options</sup>
icon in the QGIS toolbar menu or activate the <em class="guilabel">Labels</em> tab in the
layer properties dialog.</p>
<p>The first step is to choose the labeling method from the drop-down list. There
are four options available:</p>
<ul class="simple">
<li><strong>No labels</strong></li>
<li><strong>Show labels for this layer</strong></li>
<li><a class="reference internal" href="#rule-based-labeling"><em>Rule-based labeling</em></a></li>
<li>and <strong>Discourage other labels from covering features in this layer</strong>: allows to
set a layer as just an obstacle for other layer&#8217;s labels without rendering any
labels of its own.</li>
</ul>
<p>Select the <strong>Show labels for this layer</strong> option and then select an attribute
column to use for labeling from the <strong>Label with</strong> drop-down list. Click
<a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> if you want to define labels based on
expressions - See <a class="reference internal" href="#labeling-with-expressions"><em>Define labels based on expressions</em></a>.</p>
<p>The following steps describe simple labeling without using the
<em class="guilabel">Data defined override</em> functions, which are situated next to
the drop-down menus - see <a class="reference internal" href="#data-defined-labeling"><em>Using data-defined override for labeling</em></a> for an use-case.</p>
<div class="section" id="text-menu">
<h3><a class="toc-backref" href="#id35">Text menu</a><a class="headerlink" href="#text-menu" title="Permalink to this headline">¶</a></h3>
<p>You can define the text style in the <em class="guilabel">Text</em> menu (see <a class="reference internal" href="#figure-labels-1">Figure_labels_1</a>).
Use the <em class="guilabel">Type case</em> option to influence the text rendering.
You have the possibility to render the text &#8216;All uppercase&#8217;, &#8216;All lowercase&#8217;
or &#8216;Capitalize first letter&#8217;. Use the <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><em>Blending Modes</em></a> to create effects
known from graphics programs.</p>
<p id="figure-labels-1"><strong>Figure Labels 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_points.png" src="../../../_images/label_points.png" />
<p class="caption">Smart labeling of vector point layers</p>
</div>
</div>
<div class="section" id="formatting-menu">
<h3><a class="toc-backref" href="#id36">Formatting menu</a><a class="headerlink" href="#formatting-menu" title="Permalink to this headline">¶</a></h3>
<p>In the <em class="guilabel">Formatting</em> menu, you can define a character for a line break
in the labels with the &#8216;Wrap on character&#8217; function. You can format the
<em class="guilabel">Line Height</em> and the alignment. For the latter typical values are
available plus <em>Follow label placement</em>. When set to this mode, text alignment
for labels will be dependent on the final placement of the label relative to the
point. E.g., if the label is placed to the left of the point then the label will
be right aligned, and if it is placed to the right of the point then the label
will be left aligned.</p>
<p>For line vector layers you can include line directions symbols. There are options
specifying the type of symbol and the symbol placement.</p>
<p>Use the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Formatted numbers</em> option to format the numbers in
an attribute table. Here, decimal places may be inserted.
If you enable this option, three decimal places are initially set by default.</p>
</div>
<div class="section" id="buffer-menu">
<h3><a class="toc-backref" href="#id37">Buffer menu</a><a class="headerlink" href="#buffer-menu" title="Permalink to this headline">¶</a></h3>
<p>To create a buffer, just activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Draw text buffer</em>
checkbox in the <em class="guilabel">Buffer</em> menu.
The buffer color is variable. Here, you can also use blend modes.
If the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">color buffer&#8217;s fill</em> checkbox is activated, it will
interact with partially transparent text and give mixed color transparency
results. Turning off the buffer fill fixes that issue (except where the interior
aspect of the buffer&#8217;s stroke intersects with the text&#8217;s fill) and also allows
you to make outlined text.</p>
</div>
<div class="section" id="background-menu">
<h3><a class="toc-backref" href="#id38">Background menu</a><a class="headerlink" href="#background-menu" title="Permalink to this headline">¶</a></h3>
<p>In the <em class="guilabel">Background</em> menu, you can define with <em class="guilabel">Size X</em> and
<em class="guilabel">Size Y</em> the shape of your background.
Use <em class="guilabel">Size type</em> to insert an additional &#8216;Buffer&#8217; into your background.
The buffer size is set by default here.
The background then consists of the buffer plus the background in <em class="guilabel">Size X</em>
and <em class="guilabel">Size Y</em>. You can set a <em class="guilabel">Rotation</em> where you can choose
between &#8216;Sync with label&#8217;, &#8216;Offset of label&#8217; and &#8216;Fixed&#8217;.
Using &#8216;Offset of label&#8217; and &#8216;Fixed&#8217;, you can rotate the background.
Define an <em class="guilabel">Offset X,Y</em> with X and Y values, and the background
will be shifted. When applying <em class="guilabel">Radius X,Y</em>, the background gets
rounded corners.
Again, it is possible to mix the background with the underlying layers in the
map canvas using the <em class="guilabel">Blend mode</em> (see <a class="reference internal" href="../introduction/general_tools.html#blend-modes"><em>Blending Modes</em></a>).</p>
</div>
<div class="section" id="shadow-menu">
<h3><a class="toc-backref" href="#id39">Shadow menu</a><a class="headerlink" href="#shadow-menu" title="Permalink to this headline">¶</a></h3>
<p>Use the <em class="guilabel">Shadow</em> menu for a user-defined <em class="guilabel">Drop shadow</em>.
The drawing of the background is very variable.
Choose between &#8216;Lowest label component&#8217;, &#8216;Text&#8217;, &#8216;Buffer&#8217; and &#8216;Background&#8217;.
The <em class="guilabel">Offset</em> angle depends on the orientation
of the label. If you choose the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Use global shadow</em> checkbox,
then the zero point of the angle is
always oriented to the north and doesn&#8217;t depend on the orientation of the label.
You can influence the appearance of the shadow with the <em class="guilabel">Blur radius</em>.
The higher the number, the softer the shadows. The appearance of the drop shadow
can also be altered by choosing a blend mode.</p>
</div>
<div class="section" id="placement-menu">
<h3><a class="toc-backref" href="#id40">Placement menu</a><a class="headerlink" href="#placement-menu" title="Permalink to this headline">¶</a></h3>
<p>Choose the <em class="guilabel">Placement</em> menu for configuring <span class="target" id="index-30"></span>label placement
and labeling priority. Note that the placement options differ according to the type of
vector layer, namely point, line or polygon.</p>
<div class="section" id="placement-for-point-layers">
<span id="cartographic"></span><h4><a class="toc-backref" href="#id41">Placement for point layers</a><a class="headerlink" href="#placement-for-point-layers" title="Permalink to this headline">¶</a></h4>
<p>With the <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Cartographic</em> placement mode,
point labels are generated with best visual relationship with the point feature,
following ideal cartographic placement rules. Labels can be placed
at a set <em class="guilabel">Distance</em> either from the point feature itself
or from the bounds of the symbol used to represent the feature.
The latter option is especially useful when the symbol size isn&#8217;t fixed,
e.g. if it&#8217;s set by a data defined size or when using different symbols
in a categorized renderer.</p>
<p>By default, placements are prioritised in the following order:</p>
<ol class="arabic simple">
<li>top right</li>
<li>top left</li>
<li>bottom right</li>
<li>bottom left</li>
<li>middle right</li>
<li>middle left</li>
<li>top, slightly right</li>
<li>bottom, slightly left.</li>
</ol>
<p>Placement priority can however be customized or set for an individual
feature using a data defined list of prioritised positions.
This also allows only certain placements to be used, so e.g.
for coastal features you can prevent labels being placed over the land.</p>
<p>The <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Around point</em> setting places the label in an equal
radius (set in <em class="guilabel">Distance</em>) circle around the feature. The placement of
the label can even be constrained using the <em class="guilabel">Quadrant</em> option.</p>
<p>In the <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from point</em> placement, labels are placed
at a fixed offset from the point feature.
You can select the <em class="guilabel">Quadrant</em> in which to place your label. You are also
able to set the X and Y offset distances between the points and their labels
and can alter the angle of the label placement with the <em class="guilabel">Rotation</em> setting.
Thus, placement in a selected quadrant with a defined rotation is possible.</p>
</div>
<div class="section" id="placement-for-line-layers">
<h4><a class="toc-backref" href="#id42">Placement for line layers</a><a class="headerlink" href="#placement-for-line-layers" title="Permalink to this headline">¶</a></h4>
<p>Label options for line layers include <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Parallel</em>,
<img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> or <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Horizontal</em>.
For the <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Parallel</em> and
<img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> options, you can set the position to
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Above line</em>, <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">On line</em> and
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Below line</em>. It&#8217;s possible to select several options at once.
In that case, QGIS will look for the optimal label position. For Parallel and
curved placement you can also use the line orientation for the position of the label.
Additionally, you can define a <em class="guilabel">Maximum angle between curved characters</em> when
selecting the <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Curved</em> option (see <a class="reference internal" href="#figure-labels-2">Figure_labels_2</a> ).</p>
<p>For all three placement options you can set up a minimum distance for repeating
labels. The distance can be in <tt class="docutils literal"><span class="pre">mm</span></tt> or in <tt class="docutils literal"><span class="pre">map</span> <span class="pre">units</span></tt>.</p>
<p id="figure-labels-2"><strong>Figure Labels 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_line.png" src="../../../_images/label_line.png" />
<p class="caption">Smart labeling of vector line layers</p>
</div>
</div>
<div class="section" id="placement-for-polygon-layers">
<h4><a class="toc-backref" href="#id43">Placement for polygon layers</a><a class="headerlink" href="#placement-for-polygon-layers" title="Permalink to this headline">¶</a></h4>
<p>You can choose one of the following options for placing labels in polygons:
<img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em>, <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Horizontal
(slow)</em>, <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Around centroid</em>,
<img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Free</em> and
<img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Using perimeter</em>.</p>
<p>In the <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em> settings you can specify
if the centroid is of the <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">visible polygon</em> or
<img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">whole polygon</em>. That means that either the centroid
is used for the polygon you can see on the map or the centroid is determined for
the whole polygon, no matter if you can see the whole feature on the map.
You can place your label within a specific quadrant, and define offset and rotation.
The <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Around centroid</em> setting places the label at a
specified distance around the centroid. Again, you can define
<img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">visible polygon</em>
or <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">whole polygon</em> for the centroid.</p>
<p>With the <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Using perimeter</em> settings, you can define a
position and a distance for the label. For the position,
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Above line</em>, <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">On line</em>,
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Below line</em> and <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Line orientation
dependent position</em> are possible. You can specify the distance between the label
and the polygon outline, as well as the repeat interval for the label.</p>
<p id="figure-labels-3"><strong>Figure Labels 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_area.png" src="../../../_images/label_area.png" />
<p class="caption">Smart labeling of vector polygon layers</p>
</div>
<p>In the <em class="guilabel">priority</em> section you can define the priority with which labels
are rendered for all three vector layer types (point, line, polygon). This
placement option interact with labels of the other vector layers in the map
canvas. If there are labels from different layers in the same location, the
label with the higher priority will be displayed and the others will be left out.</p>
</div>
</div>
<div class="section" id="rendering-menu">
<h3><a class="toc-backref" href="#id44">Rendering menu</a><a class="headerlink" href="#rendering-menu" title="Permalink to this headline">¶</a></h3>
<p>In the <em class="guilabel">Rendering</em> menu, you can tune when the labels can be rendered
and their interaction with other labels and features.</p>
<p>Under <em class="guilabel">Label options</em>, you find the <a class="reference internal" href="../introduction/general_tools.html#label-scaledepend"><em>scale-based</em></a>
and the <em class="guilabel">Pixel size-based</em> visibility settings.</p>
<p>The <em class="guilabel">Label z-index</em> determines the order in which labels are rendered,
as well in relation with other feature labels in the layer (using data-defined override
expression), as with labels from other layers.
Labels with a higher z-index are rendered on top of labels (from any layer) with lower z-index.</p>
<p>Additionally, the logic has been tweaked so that if 2 labels have
matching z-indexes, then:</p>
<ul class="simple">
<li>if they are from the same layer, the smaller label will be drawn above the larger label</li>
<li>if they are from different layers, the labels will be drawn in the same order
as their layers themselves (ie respecting the order set in the map legend).</li>
</ul>
<p>Note that this setting doesn&#8217;t make labels to be drawn below the
features from other layers, it just controls the order in which
labels are drawn on top of all the layer&#8217;s features.</p>
<p>While rendering labels and in order to display readable labels,
QGIS automatically evaluates the position of the labels and can hide some of them
in case of collision. You can however choose to <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Show all
labels for this layer (including colliding labels)</em> in order to manually fix their placement.</p>
<p>With data-defined expressions in <em class="guilabel">Show label</em> and <em class="guilabel">Always Show</em>
you can fine tune which labels should be rendered.</p>
<p>Under <em class="guilabel">Feature options</em>, you can choose to <em class="guilabel">label every
part of a multi-part feature</em> and <em class="guilabel">limit the number of features to be labeled</em>.
Both line and polygon layers offer the option to set a minimum size for the
features to be labeled, using <em class="guilabel">Suppress labeling of features smaller than</em>.
For polygon features, you can also filter the labels to show according to whether they
completely fit within the feature or not.
For line features, you can choose to <em class="guilabel">Merge connected lines
to avoid duplicate labels</em>, rendering a quite airy map in conjunction with
the <em class="guilabel">Distance</em> or <em class="guilabel">Repeat</em> options in Placement tab.</p>
<p>From the <em class="guilabel">Obstacles</em> frame, you can manage the covering relation between
labels and features. Activate the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Discourage labels from
covering features</em> option to decide whether features of the layer should act as
obstacles for any label (including labels from other features in the same layer).
An obstacle is a feature QGIS tries as far as possible to not place labels over.
Instead of the whole layer, you can define a subset of features to use as obstacles,
using the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> <sup>data-defined override</sup> control next to the option.</p>
<p>The <img alt="slider" src="../../../_images/slider.png" /> priority control slider for obstacles allows you to make labels
prefer to overlap features from certain layers rather than others.
A <strong>Low weight</strong> obstacle priority means that features of the layer are less
considered as obstacles and thus more likely to be covered by labels.
This priority can also be data-defined, so that within the same layer,
certain features are more likely to be covered than others.</p>
<p>For polygon layers, you can choose the type of obstacle features could be
by minimising the labels placement:</p>
<ul class="simple">
<li><strong>over the feature&#8217;s interior</strong>: avoids placing labels over interior of polygon
(prefers placing labels totally outside or just slightly inside polygon)</li>
<li>or <strong>over the feature&#8217;s boundary</strong>: avoids placing labels over boundary of polygon
(prefers placing labels outside or completely inside the polygon). It can be e.g.
useful for regional boundary layers, where the features cover an entire area.
In this case it&#8217;s impossible to avoid placing labels within these features,
and it looks much better to avoid placing them over the boundaries between features.</li>
</ul>
</div>
<div class="section" id="define-labels-based-on-expressions">
<span id="labeling-with-expressions"></span><h3><a class="toc-backref" href="#id45">Define labels based on expressions</a><a class="headerlink" href="#define-labels-based-on-expressions" title="Permalink to this headline">¶</a></h3>
<p>QGIS allows to use expressions to label features. Just click the
<a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> icon in the <a class="reference internal" href="../../../_images/labelingSingle.png"><img alt="labeling" src="../../../_images/labelingSingle.png" style="width: 1.5em;" /></a> <sup>Labels</sup>
menu of the properties dialog. In <a class="reference internal" href="#figure-labels-4">figure_labels_4</a> you see a sample expression
to label the alaska regions with name and area size, based on the field &#8216;NAME_2&#8217;,
some descriptive text and the function <tt class="docutils literal"><span class="pre">$area</span></tt> in combination with
<tt class="docutils literal"><span class="pre">format_number()</span></tt> to make it look nicer.</p>
<p id="figure-labels-4"><strong>Figure Labels 4:</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/label_expression.png"><img alt="../../../_images/label_expression.png" src="../../../_images/label_expression.png" style="width: 30em;" /></a>
<p class="caption">Using expressions for labeling</p>
</div>
<p><span class="target" id="index-31"></span>Expression based labeling is easy to work with. All you have to take
care of is that:</p>
<ul class="simple">
<li>you need to combine all elements (strings, fields and functions)
with a string concatenation function such as <tt class="docutils literal"><span class="pre">concat</span></tt>, <tt class="docutils literal"><span class="pre">+</span></tt> or <tt class="docutils literal"><span class="pre">||</span></tt>. Be
aware that in some situations (null or numeric value involved) not all of
these tools will fit your need</li>
<li>strings are written in &#8216;single quotes&#8217;</li>
<li>fields are written in &#8220;double quotes&#8221; or without any quote.</li>
</ul>
<p>Let&#8217;s have a look at some examples:</p>
<div class="highlight-python"><pre> # label based on two fields 'name' and 'place' with a comma as separator
 "name" || ', ' || "place"

 -&gt; John Smith, Paris

 # label based on two fields 'name' and 'place' with other texts
 'My name is ' + "name" + 'and I live in ' + "place"
 'My name is ' || "name" || 'and I live in ' || "place"
 concat('My name is ', name, ' and I live in ', "place")

 -&gt; My name is John Smith and I live in Paris

 # label based on two fields 'name' and 'place' with other texts
 # combining different concatenation functions
 concat('My name is ', name, ' and I live in ' || place)

 -&gt; My name is John Smith and I live in Paris
 -&gt; My name is John Smith     # if the field 'place' is NULL

 # multi-line label based on two fields 'name' and 'place' with a descriptive text
 concat('My name is ', "name", '\n' , 'I live in ' , "place")
 -&gt; My name is John Smith
    I live in Paris

 # label based on a field and the $area function
 # to show the place name and its rounded area size in a converted unit.
 'The area of ' || "place" || ' has a size of ' || round($area/10000) || ' ha'

 -&gt; The area of Paris has a size of 10500 ha

 # create a CASE ELSE condition. If the population value in field
 # population is &lt;= 50000 it is a town, otherwise a city.
 concat('This place is a ', CASE WHEN "population &lt;= 50000" THEN 'town' ELSE 'city' END)

-&gt; This place is a town</pre>
</div>
<p>As you can see in the expression builder, you have hundreds of functions available
to create simple and very complex expressions to label your data in QGIS. See
<a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter for more information and examples on expressions.</p>
</div>
<div class="section" id="using-data-defined-override-for-labeling">
<span id="data-defined-labeling"></span><h3><a class="toc-backref" href="#id46">Using data-defined override for labeling</a><a class="headerlink" href="#using-data-defined-override-for-labeling" title="Permalink to this headline">¶</a></h3>
<p>With the <span class="target" id="index-32"></span>data-defined override functions, the settings for the labeling
are overridden by entries in the attribute table.
You can activate and deactivate the function with the right-mouse button.
Hover over the symbol and you see the information about the data-defined override,
including the current definition field.
We now describe an example using the data-defined override function for the
<a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="moveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a><sup>Move label</sup> function (see <a class="reference internal" href="#figure-labels-5">figure_labels_5</a> ).</p>
<ol class="arabic simple">
<li>Import <tt class="file docutils literal"><span class="pre">lakes.shp</span></tt> from the QGIS sample dataset.</li>
<li>Double-click the layer to open the Layer Properties. Click on <em class="guilabel">Labels</em>
and <em class="guilabel">Placement</em>. Select <img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Offset from centroid</em>.</li>
<li>Look for the <em class="guilabel">Data defined</em> entries. Click the <a class="reference internal" href="../../../_images/mIconDataDefine.png"><img alt="dataDefined" src="../../../_images/mIconDataDefine.png" style="width: 1.5em;" /></a> icon
to define the field type for the <em class="guilabel">Coordinate</em>. Choose &#8216;xlabel&#8217; for X
and &#8216;ylabel&#8217; for Y. The icons are now highlighted in yellow.</li>
<li>Zoom into a lake.</li>
<li>Go to the Label toolbar and click the <a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="moveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a> icon.
Now you can shift the label manually to another position (see <a class="reference internal" href="#figure-labels-6">figure_labels_6</a>).
The new position of the label is saved in the &#8216;xlabel&#8217; and &#8216;ylabel&#8217; columns
of the attribute table.</li>
</ol>
<p id="figure-labels-5"><strong>Figure Labels 5:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_data_defined.png" src="../../../_images/label_data_defined.png" />
<p class="caption">Labeling of vector polygon layers with data-defined override</p>
</div>
<p id="figure-labels-6"><strong>Figure Labels 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/move_label.png" src="../../../_images/move_label.png" />
<p class="caption">Move labels</p>
</div>
</div>
<div class="section" id="rule-based-labeling">
<span id="id9"></span><h3><a class="toc-backref" href="#id47">Rule-based labeling</a><a class="headerlink" href="#rule-based-labeling" title="Permalink to this headline">¶</a></h3>
<p>With <span class="target" id="index-33"></span>Rule-based labeling multiple label configurations can be defined
and applied selectively on the base of expression filters, as in
<a class="reference internal" href="#rule-based-rendering"><em>Rule-based rendering</em></a>.</p>
<p>Rules can be set selecting the corresponding option at the top of the
Labels panel (see <a class="reference internal" href="#figure-labels-7">figure_labels_7</a> ).</p>
<p id="figure-labels-7"><strong>Figure Labels 7:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_rules_panel.png" src="../../../_images/label_rules_panel.png" />
<p class="caption">Rule based labeling panel</p>
</div>
<p>To create a rule, activate an existing row by double-clicking on it,
or click on ‘+’ and click on the new rule.
Within the panel you can set the filter expression and the related label
configurations.</p>
<p id="figure-labels-8"><strong>Figure Labels 8:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/label_rule_settings.png" src="../../../_images/label_rule_settings.png" />
<p class="caption">Rule settings</p>
</div>
</div>
</div>
<div class="section" id="fields-menu">
<span id="vector-attributes-menu"></span><h2><a class="toc-backref" href="#id48">Fields Menu</a><a class="headerlink" href="#fields-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/attributes.png"><img alt="attributes" src="../../../_images/attributes.png" style="width: 2em;" /></a> Within the <em class="guilabel">Fields</em> menu, the field attributes of the
selected dataset can be manipulated. The buttons <a class="reference internal" href="../../../_images/mActionNewAttribute.png"><img alt="newAttribute" src="../../../_images/mActionNewAttribute.png" style="width: 1.5em;" /></a>
<sup>New Column</sup> and <a class="reference internal" href="../../../_images/mActionDeleteAttribute.png"><img alt="deleteAttribute" src="../../../_images/mActionDeleteAttribute.png" style="width: 1.5em;" /></a> <sup>Delete Column</sup>
can be used when the dataset is in <a class="reference internal" href="../../../_images/mActionToggleEditing.png"><img alt="toggleEditing" src="../../../_images/mActionToggleEditing.png" style="width: 1.5em;" /></a> <sup>Editing mode</sup>.</p>
<p>You can rename fields by double-clicking in the fields name (note that you
should switch to editing mode to edit the field name). This is only supported
for data providers like PostgreSQL, Oracle, Memory layer and some OGR layer
depending the OGR data format and version.</p>
<p>You can define some alias to display human readable fields in the form. In this
case, you don&#8217;t need to switch to editing mode. Alias are saved in project
file.</p>
<p>Comments can be added by clicking in the comment field of the column but if
you are using a PostgreSQL layer, comment of the column could be the one in
the PostgreSQL table if set. Comments are saved in the QGIS project file as for
the alias.</p>
<p><strong>Edit Widget</strong></p>
<p></p>
<p></p>
<p id="figure-fields-1"><strong>Figure Fields 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/editwidgetsdialog.png" src="../../../_images/editwidgetsdialog.png" />
<p class="caption">Dialog to select an edit widget for an attribute column</p>
</div>
<p>Within the <em class="guilabel">Fields</em> menu, you also find an <strong>edit widget</strong> column.
This column can be used to define values or a range of values that are allowed
to be added to the specific attribute table column. If you click on the
<strong>[edit widget]</strong> button, a dialog opens, where you can define different
widgets. These widgets are:</p>
<ul class="simple">
<li><strong>Checkbox</strong>: Displays a checkbox, and you can define what attribute is
added to the column when the checkbox is activated or not.</li>
<li><strong>Classification</strong>: Displays a combo box with the values used for
classification, if you have chosen &#8216;unique value&#8217; as legend type in
the <em class="guilabel">Style</em> menu of the properties dialog.</li>
<li><strong>Color</strong>: Displays a color button allowing user to choose a color from the
color dialog window.</li>
<li><strong>Date/Time</strong>: Displays a line field which can open a calendar widget to enter
a date, a time or both. Column type must be text. You can select a custom
format, pop-up a calendar, etc.</li>
<li><strong>Enumeration</strong>: Opens a combo box with values that can be used within
the columns type. This is currently only supported by the PostgreSQL provider.</li>
<li><strong>File name</strong>: Simplifies the selection by adding a file chooser dialog.</li>
<li><strong>Hidden</strong>: A hidden attribute column is invisible. The user is not able
to see its contents.</li>
<li><strong>Photo</strong>: Field contains a filename for a picture. The width and height of
the field can be defined.</li>
<li><strong>Range</strong>: Allows you to set numeric values from a specific range. The edit
widget can be either a slider or a spin box.</li>
<li><strong>Relation Reference</strong>: This widget lets you embed the feature form of the
referenced layer on the feature form   of the actual layer.
See <a class="reference internal" href="attribute_table.html#vector-relations"><em>Creating one to many relations</em></a>.</li>
<li><strong>Text edit</strong> (default): This opens a text edit field that allows simple
text or multiple lines to be used. If you choose multiple lines you
can also choose html content.</li>
<li><strong>Unique values</strong>: You can select one of the values already used in
the attribute table. If &#8216;Editable&#8217; is activated, a line edit is shown with
autocompletion support, otherwise a combo box is used.</li>
<li><strong>UUID Generator</strong>: Generates a read-only UUID (Universally Unique Identifiers)
field, if empty.</li>
<li><strong>Value map</strong>: A combo box with predefined items. The value is stored in
the attribute, the description is shown in the combo box. You can define
values manually or load them from a layer or a CSV file.</li>
<li><strong>Value Relation</strong>: Offers values from a related table in a combobox. You can
select layer, key column and value column. Several options are available to
change the standard behaviours: allow null value, order by value, allow
multiple selections and use of autocompleter. The forms will display either
a drop-down list or a line edit field when completer checkbox is enabled.</li>
<li><strong>Webview</strong>: Field contains a URL. The width and height of the field is variable.</li>
</ul>
<p><strong>Constraints:</strong> Each widget allows to constrain the value filled in the
field. First, you can enable the <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Not null</em> checkbox to
force the user to fill the value of the column.</p>
<p>You can also setup a custom contraint using an expression, e.g.
<tt class="docutils literal"><span class="pre">regexp_match(col0,'A-Za-z')</span></tt> to be sure that the value of the column <em>col0</em>
has only alphabetical letter. Finally, you can add a short description to explain
the constraint that will be displayed in the top of the form as a warning
message when the value of the field does not match the constraint.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">QGIS has an advanced &#8216;hidden&#8217; option to define your own field
widget using python and add it to this impressive list of widgets.
It is tricky but it is very well explained in following excellent blog that
explains how to create a real time validation widget that can be used like
described widgets.
See <a class="reference external" href="http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements">http://blog.vitu.ch/10142013-1847/write-your-own-qgis-form-elements</a></p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Relative Path in widgets</strong></p>
<p class="last">If the path which is selected with the file browser is located in the same
directory as the .qgs project file or below, paths are converted to
relative
paths. This increases portability of a qgs project with multimedia
information attached.
This is enabled only for File Name, Photo and Web View at this
moment.</p>
</div>
<p>With the <strong>Attribute editor layout</strong>, you can now define <span class="target" id="index-34"></span>built-in forms
(see <a class="reference internal" href="#figure-fields-2">figure_fields_2</a>). This is useful for data entry jobs or to identify
objects using the option auto open form when you have objects with many attributes.
You can create an editor with several tabs and named groups to present
the attribute fields.</p>
<p>Choose &#8216;Drag and drop designer&#8217; and an attribute column. Use the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="signPlus" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a>
icon to create a category to insert a tab or a named group (see <a class="reference internal" href="#figure-fields-3">figure_fields_3</a>).
When creating a new category, QGIS will insert a new tab or named group for the
category in the built-in form.
The next step will be to assign the relevant fields to a selected category
with the <a class="reference internal" href="../../../_images/mActionArrowRight.png"><img alt="arrowRight" src="../../../_images/mActionArrowRight.png" style="width: 1.5em;" /></a> icon. You can create more categories and use the
same fields again.</p>
<p>Other options in the dialog are &#8216;Autogenerate&#8217; and &#8216;Provide ui-file&#8217;.</p>
<ul class="simple">
<li>&#8216;Autogenerate&#8217; just creates editors for all fields and tabulates them.</li>
<li>The &#8216;Provide ui-file&#8217; option allows you to use complex dialogs made with the Qt-Designer.
Using a UI-file allows a great deal of freedom in creating a dialog.
For detailed information, see
<a class="reference external" href="http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/">http://nathanw.net/2011/09/05/qgis-tips-custom-feature-forms-with-python-logic/</a>.</li>
</ul>
<p>QGIS dialogs can have a Python function that is called when the dialog is opened.
Use this function to add extra logic to your dialogs. The form code can be specified
in three different ways:</p>
<ul class="simple">
<li>load from the environment (for example in <tt class="file docutils literal"><span class="pre">startup.py</span></tt> or from a plugin)</li>
<li>load from an external file, a file chooser will appear in that case to allow
you to select a Python file from your filesystem</li>
<li>load from inline code, a Python editor will appear where you can directly
type your form code</li>
</ul>
<p>In all cases you must enter the name of the function that will be called
(<cite>open</cite> in the example below).</p>
<p>An example is (in module MyForms.py):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="n">dialog</span><span class="p">,</span><span class="n">layer</span><span class="p">,</span><span class="n">feature</span><span class="p">):</span>
    <span class="n">geom</span> <span class="o">=</span> <span class="n">feature</span><span class="o">.</span><span class="n">geometry</span><span class="p">()</span>
    <span class="n">control</span> <span class="o">=</span> <span class="n">dialog</span><span class="o">.</span><span class="n">findChild</span><span class="p">(</span><span class="n">QWidged</span><span class="p">,</span><span class="s">&quot;My line edit&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Reference in Python Init Function like so: <cite>open</cite></p>
<p id="figure-fields-2"><strong>Figure Fields 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/attribute_editor_layout.png" src="../../../_images/attribute_editor_layout.png" />
<p class="caption">Dialog to create categories with the <strong>Attribute editor layout</strong></p>
</div>
<p id="figure-fields-3"><strong>Figure Fields 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/resulting_feature_form.png" src="../../../_images/resulting_feature_form.png" />
<p class="caption">Resulting built-in form with tabs and named groups</p>
</div>
</div>
<div class="section" id="joins-menu">
<span id="sec-joins"></span><h2><a class="toc-backref" href="#id49">Joins Menu</a><a class="headerlink" href="#joins-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/join.png"><img alt="join" src="../../../_images/join.png" style="width: 2em;" /></a> The <em class="guilabel">Joins</em> menu allows you to <span class="target" id="index-35"></span>join a loaded attribute
table to a loaded vector layer. After clicking <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="signPlus" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a>, the
<em class="guilabel">Add vector join</em> dialog appears. As key columns, you have to define a
<span class="target" id="index-36"></span>join layer you want to connect with the target vector layer.
Then, you have to specify the join field that is common to both the join layer
and the target layer. Now you can also specify a subset of fields from the joined
layer based on the checkbox <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Choose which fields are joined</em>.
As a result of the join, all information from the join layer and the target layer
are displayed in the attribute table of the target layer as joined information.
If you specified a subset of fields only these fields are displayed in the attribute
table of the target layer.</p>
<p>QGIS currently has support for joining non-spatial table formats supported by OGR
(e.g., CSV, DBF and Excel), delimited text and the PostgreSQL provider
(see <a class="reference internal" href="#figure-joins-1">figure_joins_1</a>).</p>
<p id="figure-joins-1"><strong>Figure Joins 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/join_attributes.png" src="../../../_images/join_attributes.png" />
<p class="caption">Join an attribute table to an existing vector layer</p>
</div>
<p>Additionally, the add vector join dialog allows you to:</p>
<ul class="simple">
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Cache join layer in virtual memory</em></li>
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Create attribute index on the join field</em></li>
<li><a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Choose which fields are joined</em></li>
<li>Create a <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Custom field name prefix</em></li>
</ul>
</div>
<div class="section" id="diagrams-menu">
<span id="sec-diagram"></span><h2><a class="toc-backref" href="#id50">Diagrams Menu</a><a class="headerlink" href="#diagrams-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/diagram.png"><img alt="diagram" src="../../../_images/diagram.png" style="width: 2em;" /></a> The <em class="guilabel">Diagrams</em> menu allows you to add a graphic overlay to
a vector layer (see <a class="reference internal" href="#figure-diagrams-1">figure_diagrams_1</a>).</p>
<p>The current core implementation of diagrams provides support for:</p>
<ul class="simple">
<li><strong>pie charts</strong>, a circular statistical graphic divided into slices to illustrate
numerical proportion. The arc length of each slice is proportional to the
quantity it represents,</li>
<li><strong>text diagrams</strong>, a horizontaly divided circle showing statistics values inside</li>
<li>and <strong>histograms</strong>.</li>
</ul>
<p>For each type of <span class="target" id="index-37"></span>diagram, the menu is divided into five tabs:</p>
<div class="section" id="attributes">
<h3><a class="toc-backref" href="#id51">Attributes</a><a class="headerlink" href="#attributes" title="Permalink to this headline">¶</a></h3>
<p><em class="guilabel">Attributes</em> defines which variables to display in the diagram.
Use <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="signPlus" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> <sup>add item</sup> button to select the desired fields into
the &#8216;Assigned Attributes&#8217; panel. Generated attributes with <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a>
can also be used.</p>
<p>You can move up and down any row with click and drag, sorting how atributes
are displayed. You can also change the label in the &#8216;Legend&#8217; column
or the attibute color by double-clicking the item.</p>
<p>This label is the default text displayed in the legend of the print composer
or of the layer tree.</p>
<p id="figure-diagrams-1"><strong>Figure Diagrams 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_tab.png" src="../../../_images/diagram_tab.png" />
<p class="caption">Vector properties dialog with diagram menu</p>
</div>
</div>
<div class="section" id="appearance">
<h3><a class="toc-backref" href="#id52">Appearance</a><a class="headerlink" href="#appearance" title="Permalink to this headline">¶</a></h3>
<p><em class="guilabel">Appearance</em> defines how the diagram looks like. It provides
general settings that do not interfere with the statistic values such as:</p>
<ul class="simple">
<li>the graphic transparency, its outline width and color</li>
<li>the width of the bar in case of histogram</li>
<li>the circle background color in case of text diagram, and the font used for texts</li>
<li>the orientation of the left line of the first slice represented in pie chart.
Note that slices are displayed clockwise.</li>
</ul>
<p>In this menu, you can also manage the diagram visibility:</p>
<ul class="simple">
<li>by removing diagrams that overlap others or <em class="guilabel">Show all diagrams</em>
even if they overlap each other</li>
<li>by selecting a field with <em class="guilabel">Data defined visibility</em> to precisely
tune which diagrams should be rendered</li>
<li>by setting the <a class="reference internal" href="../introduction/general_tools.html#label-scaledepend"><em>scale visibility</em></a></li>
</ul>
<p id="figure-diagrams-2"><strong>Figure Diagrams 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_tab_appearance.png" src="../../../_images/diagram_tab_appearance.png" />
<p class="caption">Vector properties dialog with diagram menu, Appearance tab</p>
</div>
</div>
<div class="section" id="size">
<h3><a class="toc-backref" href="#id53">Size</a><a class="headerlink" href="#size" title="Permalink to this headline">¶</a></h3>
<p><em class="guilabel">Size</em> is the main tab to set how the selected statistics are
represented. The diagram size units can be &#8216;Map Units&#8217; or &#8216;Millimeters&#8217;.
You can use :</p>
<ul class="simple">
<li><em class="guilabel">Fixed size</em>, an unique size to represent the graphic of all the
features, except when displaying histogram</li>
<li>or <em class="guilabel">Scaled size</em>, based on an expression using layer attributes.</li>
</ul>
<p id="figure-diagrams-3"><strong>Figure Diagrams 3:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_tab_size.png" src="../../../_images/diagram_tab_size.png" />
<p class="caption">Vector properties dialog with diagram menu, Size tab</p>
</div>
</div>
<div class="section" id="placement">
<h3><a class="toc-backref" href="#id54">Placement</a><a class="headerlink" href="#placement" title="Permalink to this headline">¶</a></h3>
<p><em class="guilabel">Placement</em> helps to define diagram position.
According to the layer geometry type, it offers different options for the placement:</p>
<ul class="simple">
<li>&#8216;Over the point&#8217; or &#8216;Around  the point&#8217; for point geometry.
The latter variable requires a radius to follow.</li>
<li>&#8216;Over the line&#8217; or &#8216;Around  the line&#8217; for line geometry. Like point feature,
the last variable requires a distance to respect and user can specify the
diagram placement relative to the feature (&#8216;above&#8217;, &#8216;on&#8217; and/or &#8216;below&#8217; the line)
It&#8217;s possible to select several options at once.
In that case, QGIS will look for the optimal position of the diagram. Remember that
here you can also use the line orientation for the position of the diagram.</li>
<li>&#8216;Over the centroid&#8217;, &#8216;Around the centroid&#8217; (with a distance set),
&#8216;Perimeter&#8217; and anywhere &#8216;Inside polygon&#8217; are the options for polygon features.</li>
</ul>
<p>The diagram can also be placed using feature data by filling the <tt class="docutils literal"><span class="pre">X</span></tt>
and <tt class="docutils literal"><span class="pre">Y</span></tt> fields with an attribute of the feature.</p>
<p>The placement of the diagrams can interact with the labeling, so you can
detect and solve position conflicts between diagrams and labels by setting
the <strong>Priority</strong> slider or the <strong>z-index</strong> value.</p>
<p id="figure-diagrams-4"><strong>Figure Diagrams 4:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_tab_placement.png" src="../../../_images/diagram_tab_placement.png" />
<p class="caption">Vector properties dialog with diagram menu, Placement tab</p>
</div>
</div>
<div class="section" id="options">
<h3><a class="toc-backref" href="#id55">Options</a><a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<p>The <em class="guilabel">Options</em> tab has settings only in case of histogram. You can
choose whether the bar orientation should be &#8216;Up&#8217;, &#8216;Down&#8217;, &#8216;Right&#8217; and &#8216;Left&#8217;.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Switch quickly between diagrams</strong></p>
<p class="last">Given that almost all the settings above are common to the different types of
diagram, when designing your diagram, you can easily change the diagram type
and check which one is more appropriate to your data without any loss.</p>
</div>
</div>
<div class="section" id="case-study">
<h3><a class="toc-backref" href="#id56">Case Study</a><a class="headerlink" href="#case-study" title="Permalink to this headline">¶</a></h3>
<p>We will demonstrate an example and overlay on the Alaska boundary layer a
text diagram showing temperature data from a climate vector layer.
Both vector layers are part of the QGIS sample dataset (see section
<a class="reference internal" href="../introduction/getting_started.html#label-sampledata"><em>Sample Data</em></a>).</p>
<ol class="arabic simple">
<li>First, click on the <a class="reference internal" href="../../../_images/mActionAddOgrLayer.png"><img alt="addOgrLayer" src="../../../_images/mActionAddOgrLayer.png" style="width: 1.5em;" /></a> <sup>Load Vector</sup> icon, browse
to the QGIS sample dataset folder, and load the two vector shape layers
<tt class="file docutils literal"><span class="pre">alaska.shp</span></tt> and <tt class="file docutils literal"><span class="pre">climate.shp</span></tt>.</li>
<li>Double click the <tt class="docutils literal"><span class="pre">climate</span></tt> layer in the map legend to open the
<em class="guilabel">Layer Properties</em> dialog.</li>
<li>Click on the <em class="guilabel">Diagrams</em> menu, activate <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Show
diagrams for this layer</em>, and from the <em class="guilabel">Diagram type</em> <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a>
combo box, select &#8216;Text diagram&#8217;.</li>
<li>In the <em class="guilabel">Appearance</em> tab, we choose a light blue as background color,
and in the <em class="guilabel">Size</em> tab, we set a fixed size to 18 mm.</li>
<li>In the <em class="guilabel">Position</em> tab, placement could be set to &#8216;Around Point&#8217;.</li>
<li>In the diagram, we want to display the values of the three columns
<tt class="docutils literal"><span class="pre">T_F_JAN</span></tt>, <tt class="docutils literal"><span class="pre">T_F_JUL</span></tt> and <tt class="docutils literal"><span class="pre">T_F_MEAN</span></tt>. So, in the <em class="guilabel">Attributes</em> tab
first select <tt class="docutils literal"><span class="pre">T_F_JAN</span></tt> and click the <a class="reference internal" href="../../../_images/symbologyAdd.png"><img alt="signPlus" src="../../../_images/symbologyAdd.png" style="width: 1.5em;" /></a> button, then repeat with
<tt class="docutils literal"><span class="pre">T_F_JUL</span></tt> and finally <tt class="docutils literal"><span class="pre">T_F_MEAN</span></tt>.</li>
<li>Now click <strong>[Apply]</strong> to display the diagram in the QGIS main window.</li>
<li>You can adapt the chart size in the <em class="guilabel">Size</em> tab. Activate the
<img alt="radioButtonOn" src="../../../_images/radiobuttonon.png" /> <em class="guilabel">Scaled size</em> and set the size of the diagrams on
the basis of the <em class="guilabel">maximum value</em> of an attribute and the
<em class="guilabel">Size</em> option.
If the diagrams appear too small on the screen, you can activate the
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Increase size of small diagrams</em> checkbox and define
the minimum size of the diagrams.</li>
<li>Change the attribute colors by double clicking on the color values in the
<em class="guilabel">Assigned attributes</em> field.
<a class="reference internal" href="#figure-diagrams-5">Figure_diagrams_5</a> gives an idea of the result.</li>
<li>Finally, click <strong>[Ok]</strong>.</li>
</ol>
<p id="figure-diagrams-5"><strong>Figure Diagrams 5:</strong></p>
<div class="figure align-center">
<a class="reference internal image-reference" href="../../../_images/climate_diagram.png"><img alt="../../../_images/climate_diagram.png" src="../../../_images/climate_diagram.png" style="width: 25em;" /></a>
<p class="caption">Diagram from temperature data overlayed on a map</p>
</div>
<p>Remember that in the <em class="guilabel">Position</em> tab, a <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Data
defined position</em> of the diagrams is possible. Here, you can use attributes
to define the position of the diagram.
You can also set a scale-dependent visibility in the <em class="guilabel">Appearance</em> tab.</p>
<p>The size and the attributes can also be an expression.
Use the <a class="reference internal" href="../../../_images/mIconExpressionEditorOpen.png"><img alt="expressionEditorOpen" src="../../../_images/mIconExpressionEditorOpen.png" style="width: 1.5em;" /></a> button to add an expression.
See <a class="reference internal" href="expression.html#vector-expressions"><em>Expressions</em></a> chapter for more information and example.</p>
</div>
<div class="section" id="using-data-defined-override">
<h3><a class="toc-backref" href="#id57">Using data-defined override</a><a class="headerlink" href="#using-data-defined-override" title="Permalink to this headline">¶</a></h3>
<p>As mentioned above, you can use some custom data-defined to tune the diagrams
rendering:</p>
<ul class="simple">
<li>position in <em class="guilabel">Placement</em> tab by filling <tt class="docutils literal"><span class="pre">X</span></tt> and <tt class="docutils literal"><span class="pre">Y</span></tt> fields</li>
<li>visibility in <em class="guilabel">Appearance</em> tab by filling the <tt class="docutils literal"><span class="pre">Visibility</span></tt> field</li>
</ul>
<p>Some tools to manipulate these notions are available through the label toolbar,
but only if the corresponding data-defined is indicated (otherwise, buttons are
disabled).</p>
<p id="figure-diagrams-6"><strong>Figure Diagrams 6:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/diagram_toolbar.png" src="../../../_images/diagram_toolbar.png" />
<p class="caption">Diagram/Label toolbar</p>
</div>
<p>These tools allow to specifically work on each diagram to:</p>
<ul class="simple">
<li><a class="reference internal" href="../../../_images/mActionPinLabels.png"><img alt="pinLabels" src="../../../_images/mActionPinLabels.png" style="width: 1.5em;" /></a> <sup>Pin/Unpin Labels And Diagrams</sup> that has data-defined
position. By clicking or draging an area, you pin diagram(s). If you click or
drag an area holding <tt class="kbd docutils literal"><span class="pre">Shift</span></tt>, diagram(s) are unpinned. Finally, you can
also click or drag an area holding <tt class="kbd docutils literal"><span class="pre">Ctrl</span></tt> to toggle the pin status of
diagram(s).</li>
<li><a class="reference internal" href="../../../_images/mActionShowPinnedLabels.png"><img alt="showPinnedLabels" src="../../../_images/mActionShowPinnedLabels.png" style="width: 1.5em;" /></a> <sup>Highlight Pinned Labels And Diagrams</sup>. If the
vector layer of the diagram is editable, then the highlighting is green,
otherwise it&#8217;s blue.</li>
<li><a class="reference internal" href="../../../_images/mActionMoveLabel.png"><img alt="moveLabel" src="../../../_images/mActionMoveLabel.png" style="width: 1.5em;" /></a> <sup>Move Label And Diagram</sup> that has data-defined
position. You just have to drag the diagram to the desired place.</li>
<li><a class="reference internal" href="../../../_images/mActionShowHideLabels.png"><img alt="showHideLabels" src="../../../_images/mActionShowHideLabels.png" style="width: 1.5em;" /></a> <sup>Show/Hide Labels And Diagrams</sup> that has
data-defined visbility. If you click or drag an area holding <tt class="kbd docutils literal"><span class="pre">Shift</span></tt>,
then diagram(s) are hidden. When a diagram is hidden, you just have to click
or drag an area around the feature&#8217;s point to restore the chart.</li>
</ul>
</div>
</div>
<div class="section" id="actions-menu">
<span id="index-38"></span><span id="id10"></span><h2><a class="toc-backref" href="#id58">Actions Menu</a><a class="headerlink" href="#actions-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/action.png"><img alt="action" src="../../../_images/action.png" style="width: 2em;" /></a> QGIS provides the ability to perform an action based on the attributes
of a feature. This can be used to perform any number of actions, for example,
running a program with arguments built from the attributes of a feature or
passing parameters to a web reporting tool.</p>
<p id="figure-actions-1"><strong>Figure Actions 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/action_dialog.png" src="../../../_images/action_dialog.png" />
<p class="caption">Overview action dialog with some sample actions</p>
</div>
<p>Actions are useful when you frequently want to run an external application or
view a web page based on one or more values in your vector layer. They are
divided into six types and can be used like this:</p>
<ul class="simple">
<li>Generic, Mac, Windows and Unix actions start an external process.</li>
<li>Python actions execute a Python expression.</li>
<li>Generic and Python actions are visible everywhere.</li>
<li>Mac, Windows and Unix actions are visible only on the respective platform (i.e.,
you can define three &#8216;Edit&#8217; actions to open an editor and the users can only
see and execute the one &#8216;Edit&#8217; action for their platform to run the editor).</li>
</ul>
<p>There are several examples included in the dialog. You can load them by clicking
on <strong>[Add default actions]</strong>. One example is performing a search based on an
attribute value. This concept is used in the following discussion.</p>
<div class="section" id="defining-actions">
<span id="index-39"></span><h3><a class="toc-backref" href="#id59">Defining Actions</a><a class="headerlink" href="#defining-actions" title="Permalink to this headline">¶</a></h3>
<p>Attribute actions are defined from the vector <em class="guilabel">Layer Properties</em>
dialog. To <span class="target" id="index-40"></span>define an action, open the vector <em class="guilabel">Layer Properties</em>
dialog and click on the <em class="guilabel">Actions</em> menu. Go to the <em class="guilabel">Action properties</em>.
Select &#8216;Generic&#8217; as type and provide a descriptive name for the action.
The action itself must contain
the name of the application that will be executed when the action is invoked.
You can add one or more attribute field values as arguments to the application.
When the action is invoked, any set of characters that start with a <tt class="docutils literal"><span class="pre">%</span></tt>
followed by the name of a field will be replaced by the value of that field.
The special characters <span class="target" id="index-41"></span>%% will be replaced by the value of the field
that was selected from the identify results or attribute table (see <a class="reference internal" href="#using-actions">using_actions</a>
below). Double quote marks can be used to group text into a single argument to
the program, script or command. Double quotes will be ignored if preceded by a
backslash.</p>
<p>If you have field names that are substrings of other field names (e.g.,
<tt class="docutils literal"><span class="pre">col1</span></tt> and <tt class="docutils literal"><span class="pre">col10</span></tt>), you should indicate that by surrounding the field name
(and the % character) with square brackets (e.g., <tt class="docutils literal"><span class="pre">[%col10]</span></tt>). This will
prevent the <tt class="docutils literal"><span class="pre">%col10</span></tt> field name from being mistaken for the <tt class="docutils literal"><span class="pre">%col1</span></tt> field
name with a <tt class="docutils literal"><span class="pre">0</span></tt> on the end. The brackets will be removed by QGIS when it
substitutes in the value of the field. If you want the substituted field to be
surrounded by square brackets, use a second set like this: <tt class="docutils literal"><span class="pre">[[%col10]]</span></tt>.</p>
<p>Using the <em class="guilabel">Identify Features</em> tool, you can open the
<em class="guilabel">Identify Results</em> dialog. It includes a <em>(Derived)</em> item that contains
information relevant to the layer type. The values in this item can be accessed
in a similar way to the other fields by proceeding the derived field name with
<tt class="docutils literal"><span class="pre">(Derived).</span></tt>. For example, a point layer has an <tt class="docutils literal"><span class="pre">X</span></tt> and <tt class="docutils literal"><span class="pre">Y</span></tt> field, and the
values of these fields can be used in the action with <tt class="docutils literal"><span class="pre">%(Derived).X</span></tt> and
<tt class="docutils literal"><span class="pre">%(Derived).Y</span></tt>. The derived attributes are only available from the
<em class="guilabel">Identify Results</em> dialog box, not the <em class="guilabel">Attribute Table</em> dialog box.</p>
<p>Two <span class="target" id="index-42"></span>example actions are shown below:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">konqueror</span> <span class="pre">http://www.google.com/search?q=%nam</span></tt></li>
<li><tt class="docutils literal"><span class="pre">konqueror</span> <span class="pre">http://www.google.com/search?q=%%</span></tt></li>
</ul>
<p>In the first example, the web browser konqueror is invoked and passed a URL
to open. The URL performs a Google search on the value of the <tt class="docutils literal"><span class="pre">nam</span></tt> field
from our vector layer. Note that the application or script called by the
action must be in the path, or you must provide the full path. To be certain, we
could rewrite the first example as:
<tt class="docutils literal"><span class="pre">/opt/kde3/bin/konqueror</span> <span class="pre">http://www.google.com/search?q=%nam</span></tt>. This will
ensure that the konqueror application will be executed when the action is
invoked.</p>
<p>The second example uses the %% notation, which does not rely on a particular
field for its value. When the action is invoked, the %% will be replaced by
the value of the selected field in the identify results or attribute table.</p>
</div>
<div class="section" id="using-actions">
<span id="id11"></span><h3><a class="toc-backref" href="#id60">Using Actions</a><a class="headerlink" href="#using-actions" title="Permalink to this headline">¶</a></h3>
<p>Actions can be invoked from either the <em class="guilabel">Identify Results</em> dialog,
an <em class="guilabel">Attribute Table</em> dialog or from <em class="guilabel">Run Feature Action</em>
(recall that these dialogs can be opened by clicking <a class="reference internal" href="../../../_images/mActionIdentify.png"><img alt="identify" src="../../../_images/mActionIdentify.png" style="width: 1.5em;" /></a>
<sup>Identify Features</sup> or <a class="reference internal" href="../../../_images/mActionOpenTable.png"><img alt="openTable" src="../../../_images/mActionOpenTable.png" style="width: 1.5em;" /></a> <sup>Open Attribute Table</sup> or
<a class="reference internal" href="../../../_images/mAction.png"><img alt="actionRun" src="../../../_images/mAction.png" style="width: 1.5em;" /></a> <sup>Run Feature Action</sup>). To invoke an action, right
click on the record and choose the action from the pop-up menu. Actions are
listed in the popup menu by the name you assigned when defining the action.
Click on the action you wish to invoke.</p>
<p>If you are invoking an action that uses the <tt class="docutils literal"><span class="pre">%%</span></tt> notation, right-click on the
field value in the <em class="guilabel">Identify Results</em> dialog or the
<em class="guilabel">Attribute Table</em> dialog that you wish to pass to the application
or script.</p>
<p>Here is another example that pulls data out of a vector layer and inserts
it into a file using bash and the <tt class="docutils literal"><span class="pre">echo</span></tt> command (so it will only work on
<a class="reference internal" href="../../../_images/nix.png"><img alt="nix" src="../../../_images/nix.png" style="width: 1em;" /></a> or perhaps <a class="reference internal" href="../../../_images/osx.png"><img alt="osx" src="../../../_images/osx.png" style="width: 1em;" /></a>). The layer in question has fields for a species name
<tt class="docutils literal"><span class="pre">taxon_name</span></tt>, latitude <tt class="docutils literal"><span class="pre">lat</span></tt> and longitude <tt class="docutils literal"><span class="pre">long</span></tt>. We would like to be
able to make a spatial selection of localities and export these field values
to a text file for the selected record (shown in yellow in the QGIS map area).
Here is the action to achieve this:</p>
<div class="highlight-python"><pre>bash -c "echo \"%taxon_name %lat %long\" &gt;&gt; /tmp/species_localities.txt"</pre>
</div>
<p>After selecting a few localities and running the action on each one, opening
the output file will show something like this:</p>
<div class="highlight-python"><pre>Acacia mearnsii -34.0800000000 150.0800000000
Acacia mearnsii -34.9000000000 150.1200000000
Acacia mearnsii -35.2200000000 149.9300000000
Acacia mearnsii -32.2700000000 150.4100000000</pre>
</div>
<p>As an exercise, we can create an action that does a Google search on the <tt class="docutils literal"><span class="pre">lakes</span></tt>
layer. First, we need to determine the URL required to perform a search on a
keyword. This is easily done by just going to Google and doing a simple
search, then grabbing the URL from the address bar in your browser. From this
little effort, we see that the format is <a class="reference external" href="http://google.com/search?q=qgis">http://google.com/search?q=qgis</a>,
where <tt class="docutils literal"><span class="pre">QGIS</span></tt> is the search term. Armed with this information, we can proceed:</p>
<ol class="arabic">
<li><p class="first">Make sure the <tt class="docutils literal"><span class="pre">lakes</span></tt> layer is loaded.</p>
</li>
<li><p class="first">Open the <em class="guilabel">Layer Properties</em> dialog by double-clicking on the
layer in the legend, or right-click and choose <em class="menuselection">Properties</em>
from the pop-up menu.</p>
</li>
<li><p class="first">Click on the <em class="guilabel">Actions</em> menu.</p>
</li>
<li><p class="first">Enter a name for the action, for example <tt class="docutils literal"><span class="pre">Google</span> <span class="pre">Search</span></tt>.</p>
</li>
<li><p class="first">For the action, we need to provide the name of the external program to run.
In this case, we can use Firefox. If the program is not in your path, you
need to provide the full path.</p>
</li>
<li><p class="first">Following the name of the external application, add the URL used for doing
a Google search, up to but not including the search term:
<tt class="docutils literal"><span class="pre">http://google.com/search?q=</span></tt></p>
</li>
<li><p class="first">The text in the <em class="guilabel">Action</em> field should now look like this:
<tt class="docutils literal"><span class="pre">firefox</span> <span class="pre">http://google.com/search?q=</span></tt></p>
</li>
<li><p class="first">Click on the drop-down box containing the field names for the <tt class="docutils literal"><span class="pre">lakes</span></tt>
layer. It&#8217;s located just to the left of the <strong>[Insert Field]</strong> button.</p>
</li>
<li><p class="first">From the drop-down box, select &#8216;NAMES&#8217; and click <strong>[Insert Field]</strong>.</p>
</li>
<li><p class="first">Your action text now looks like this:</p>
<p><tt class="docutils literal"><span class="pre">firefox</span> <span class="pre">http://google.com/search?q=%NAMES</span></tt></p>
</li>
<li><p class="first">To finalize the action, click the <strong>[Add to action list]</strong> button.</p>
</li>
</ol>
<p>This completes the action, and it is ready to use. The final text of the
action should look like this:</p>
<div class="highlight-python"><pre>firefox http://google.com/search?q=%NAMES</pre>
</div>
<p>We can now use the action. Close the <em class="guilabel">Layer Properties</em> dialog and
zoom in to an area of interest. Make sure the <tt class="docutils literal"><span class="pre">lakes</span></tt> layer is active and
identify a lake. In the result box you&#8217;ll now see that our action is visible:</p>
<p id="figure-actions-2"><strong>Figure Actions 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/action_identifyaction.png" src="../../../_images/action_identifyaction.png" />
<p class="caption">Select feature and choose action</p>
</div>
<p>When we click on the action, it brings up Firefox and navigates to the URL
<a class="reference external" href="http://www.google.com/search?q=Tustumena">http://www.google.com/search?q=Tustumena</a>. It is also possible to add further
attribute fields to the action. Therefore, you can add a <tt class="docutils literal"><span class="pre">+</span></tt> to the end of
the action text, select another field and click on <strong>[Insert Field]</strong>. In
this example, there is just no other field available that would make sense
to search for.</p>
<p>You can define multiple actions for a layer, and each will show up in the
<em class="guilabel">Identify Results</em> dialog.</p>
<p>You can also invoke actions from the attribute table
by selecting a row and right-clicking, then choosing the action from the
pop-up menu.</p>
<p>There are all kinds of uses for actions. For example, if you have
a point layer containing locations of images or photos along with a file name,
you could create an action to launch a viewer to display the image. You could
also use actions to launch web-based reports for an attribute field or
combination of fields, specifying them in the same way we did in our
Google search example.</p>
<p>We can also make more complex examples, for instance, using <strong>Python</strong>
actions.</p>
<p>Usually, when we create an action to open a file with an external application,
we can use absolute paths, or eventually relative paths. In the second case,
the path is relative to the location of the external program executable file.
But what about if we need to use relative paths, relative to the selected layer
(a file-based one, like a shapefile or SpatiaLite)? The following code will
do the trick:</p>
<div class="highlight-python"><pre>command = "firefox"
imagerelpath = "images_test/test_image.jpg"
layer = qgis.utils.iface.activeLayer()
import os.path
layerpath = layer.source() if layer.providerType() == 'ogr'
  else (qgis.core.QgsDataSourceURI(layer.source()).database()
    if layer.providerType() == 'spatialite' else None)
path = os.path.dirname(str(layerpath))
image = os.path.join(path,imagerelpath)
import subprocess
subprocess.Popen( [command, image ] )</pre>
</div>
<p>We just have to remember that the action is one of type <em>Python</em> and
the <em>command</em> and <em>imagerelpath</em> variables must be changed to fit our needs.</p>
<p>But what about if the relative path needs to be relative to the (saved)
project file? The code of the Python action would be:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">command</span><span class="o">=</span><span class="s">&quot;firefox&quot;</span>
<span class="n">imagerelpath</span><span class="o">=</span><span class="s">&quot;images/test_image.jpg&quot;</span>
<span class="n">projectpath</span><span class="o">=</span><span class="n">qgis</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">QgsProject</span><span class="o">.</span><span class="n">instance</span><span class="p">()</span><span class="o">.</span><span class="n">fileName</span><span class="p">()</span>
<span class="kn">import</span> <span class="nn">os.path</span>
<span class="n">path</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">projectpath</span><span class="p">))</span> <span class="k">if</span> <span class="n">projectpath</span> <span class="o">!=</span> <span class="s">&#39;&#39;</span> <span class="k">else</span> <span class="bp">None</span>
<span class="n">image</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">imagerelpath</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span> <span class="p">[</span><span class="n">command</span><span class="p">,</span> <span class="n">image</span> <span class="p">]</span> <span class="p">)</span>
</pre></div>
</div>
<p>Another Python action example is the one that allows us to add new layers
to the project. For instance, the following examples will add to the project
respectively a vector and a raster. The names of the files to be added to the
project and the names to be given to the layers are data driven (<em>filename</em> and
<em>layername</em> are column names of the table of attributes of the vector where
the action was created):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qgis</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">iface</span><span class="o">.</span><span class="n">addVectorLayer</span><span class="p">(</span><span class="s">&#39;/yourpath/[% &quot;filename&quot; %].shp&#39;</span><span class="p">,</span>
  <span class="s">&#39;[% &quot;layername&quot; %]&#39;</span><span class="p">,</span> <span class="s">&#39;ogr&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>To add a raster (a TIF image in this example), it becomes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">qgis</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">iface</span><span class="o">.</span><span class="n">addRasterLayer</span><span class="p">(</span><span class="s">&#39;/yourpath/[% &quot;filename&quot; %].tif&#39;</span><span class="p">,</span>
  <span class="s">&#39;[% &quot;layername&quot; %]&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="display-menu">
<span id="maptips"></span><span id="index-43"></span><h2><a class="toc-backref" href="#id61">Display Menu</a><a class="headerlink" href="#display-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/mActionMapTips.png"><img alt="mapTips" src="../../../_images/mActionMapTips.png" style="width: 1.5em;" /></a> This menu is specifically created for map tips: display a message in
the map canvas when hovering over a feature of the active layer.
This message can either be the value of a <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">Field</em>
or a more complex and full <img alt="radioButtonOff" src="../../../_images/radiobuttonoff.png" /> <em class="guilabel">HTML</em> text mixing fields,
<a class="reference internal" href="expression.html#vector-expressions"><em>expressions</em></a> and html tags (multiline, fonts, images,
hyperlink ...).</p>
<p>To activate Map Tips, select the menu option <em class="menuselection">View ‣ Map Tips</em>
or click on the <a class="reference internal" href="../../../_images/mActionMapTips.png"><img alt="mapTips" src="../../../_images/mActionMapTips.png" style="width: 1.5em;" /></a> <sup>Map Tips</sup> icon. Map tip is a cross-session feature
meaning that once activated, it stays on and apply to any set layer in any project,
even in future QGIS sessions until it&#8217;s toggled off.</p>
<p>Figure Display 1 and 2 show an example of HTML code and how it behaves in map canvas.</p>
<p id="figure-display-1"><strong>Figure Display 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/display_html.png" src="../../../_images/display_html.png" />
<p class="caption">HTML code for map tip</p>
</div>
<p id="figure-display-2"><strong>Figure Display 2:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/map_tip.png" src="../../../_images/map_tip.png" />
<p class="caption">Map tip made with HTML code</p>
</div>
</div>
<div class="section" id="id12">
<h2><a class="toc-backref" href="#id62">Rendering Menu</a><a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<p>QGIS offers support for on-the-fly feature <span class="target" id="index-44"></span>generalisation. This can
improve rendering times when drawing many complex features at small scales.
This feature can be enabled or disabled in the layer settings using the
<a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Simplify geometry</em> option. There is also a global
setting that enables generalisation by default for newly added layers (see
section <a class="reference internal" href="../introduction/qgis_configuration.html#gui-options"><em>Options</em></a>).</p>
<p id="figure-rendering-10"><strong>Figure Rendering 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/simplify_rendering.png" src="../../../_images/simplify_rendering.png" />
<p class="caption">Layer Geometry Simplification dialog</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Feature generalisation may introduce artefacts into your rendered
output in some cases. These may include slivers between polygons and
inaccurate rendering when using offset-based symbol layers.</p>
</div>
<p>While rendering extremely detailed layers (e.g. polygon layers with a huge number
of nodes), this can cause composer exports in PDF/SVG format to be huge as all
nodes are included in the exported file. This can also make the resultant file
very slow to work with/open in other programs.</p>
<p>Checking <a class="reference internal" href="../../../_images/checkbox.png"><img alt="checkbox" src="../../../_images/checkbox.png" style="width: 1.3em;" /></a> <em class="guilabel">Force layer to render as raster</em> forces these
layers to be rasterised so that the exported files won&#8217;t have to include all
the nodes contained in these layers and the rendering is therefore sped up.</p>
<p>You can also do this by forcing the composer to export as a raster,
but that is an all-or-nothing solution, given that the rasterisation
is applied to all layers.</p>
</div>
<div class="section" id="metadata-menu">
<span id="vectormetadatamenu"></span><span id="index-45"></span><h2><a class="toc-backref" href="#id63">Metadata Menu</a><a class="headerlink" href="#metadata-menu" title="Permalink to this headline">¶</a></h2>
<p><a class="reference internal" href="../../../_images/metadata.png"><img alt="metadata" src="../../../_images/metadata.png" style="width: 2em;" /></a> The <em class="guilabel">Metadata</em> menu consists of <em class="guilabel">Description</em>,
<em class="guilabel">Attribution</em>, <em class="guilabel">MetadataURL</em>, <em class="guilabel">LegendUrl</em>
and <em class="guilabel">Properties</em> sections.</p>
<p>In the <em class="guilabel">Properties</em> section, you get general information about the layer,
including specifics about the type and location, number of features, feature type,
and editing capabilities. The <em class="guilabel">Extents</em>
table provides you with information on the layer extent and the
<em class="guilabel">Layer Spatial Reference System</em>, which is information about the CRS
of the layer. This can provide a quick way to get useful information about the layer.</p>
<p>Additionally, you can add or edit a title and abstract for the layer in the
<em class="guilabel">Description</em> section. It&#8217;s also possible to define a
<em class="guilabel">Keyword list</em> here. These <span class="target" id="index-46"></span>keyword lists can be used in a
metadata catalogue. If you want to use a title from an XML metadata file,
you have to fill in a link in the <em class="guilabel">DataUrl</em> field.</p>
<p>Use <em class="guilabel">Attribution</em> to get attribute data from an XML metadata catalogue.</p>
<p>In <em class="guilabel">MetadataUrl</em>, you can define the general path to the XML metadata
catalogue. This information will be saved in the QGIS project file for subsequent
sessions and will be used for QGIS server.</p>
<p>In the <em class="guilabel">LegendUrl</em> section, you can provide the url of a legend image in the url
field. You can use the Format drop-down option to apply the appropriate format
of the image. Currently png, jpg and jpeg image formats are supported.</p>
<p id="figure-metadata-vect"><strong>Figure Metadata 1:</strong></p>
<div class="figure align-center">
<img alt="../../../_images/vector_metadata_tab.png" src="../../../_images/vector_metadata_tab.png" />
<p class="caption">Metadata menu in vector layers properties dialog</p>
</div>
<span class="target" id="variable-layer"></span></div>
<div class="section" id="save-and-share-layer-properties">
<span id="save-layer-property"></span><span id="index-47"></span><h2><a class="toc-backref" href="#id64">Save and Share Layer Properties</a><a class="headerlink" href="#save-and-share-layer-properties" title="Permalink to this headline">¶</a></h2>
<div class="section" id="managing-custom-styles">
<span id="manage-custom-style"></span><h3><a class="toc-backref" href="#id65">Managing Custom Styles</a><a class="headerlink" href="#managing-custom-styles" title="Permalink to this headline">¶</a></h3>
<p>When a layer is added to map canvas, QGIS uses by default a random symbol/color
to render its features. You can however set a default symbol in
<em class="menuselection">Project ‣ Properties ‣ Default styles</em> that will be applied
to each newly added layer according to its geometry type.</p>
<p>But, most of the time, you&#8217;d prefer to have a custom and more complex style
that can be applied automatically or manually (with less efforts) to the layers.
You can achieve this goal using the <em class="menuselection">Style</em> combobox at the bottom of
the Layer Properties dialog. This combobox provides you with functions to create,
load and manage styles.</p>
<p>A style stores any information set in the layer properties dialog to render
or interact with the features (including symbology, labeling, action, diagram...
settings).</p>
<p><strong>Figure Vector Properties 10:</strong></p>
<div class="figure align-center" id="figure-vector-properties-10">
<img alt="../../../_images/style_combobox.png" src="../../../_images/style_combobox.png" />
<p class="caption">Style combobox options</p>
</div>
<p>By default, the style applied to a loaded layer is named <tt class="docutils literal"><span class="pre">default</span></tt>. Once you
have got the ideal and appropriate rendering for your layer, you can save it by
clicking the <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="menuselection">Style</em> combobox and choose:</p>
<ul class="simple">
<li><strong>Rename Current</strong>: The active style gets renamed and updated with the current options</li>
<li><strong>Add</strong>: A new style is created using the current options. By default, it will be saved
in the QGIS project file. See below to save the style in a database.</li>
</ul>
<p>At the bottom of the Style drop-down list, you see the styles set for the layer
and the active one is checked. Once you have more than one style defined for a
layer, a <strong>Remove Current</strong> option can help you delete those you no longer want.</p>
<p>Note that each time you validate the layer properties dialog, the active style
is updated with the changes you&#8217;ve done.</p>
<p>You can create as many styles as you wish for a layer but only one can be active
at a time. Combined to layer visibility preset, this offers a quick and powerful
way to manage complex projects with few layers (no need to duplicate any layer in
the map legend).</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Manage styles from layer context menu</strong></p>
<p class="last">Right-click on the layer in <em class="guilabel">Layers Panel</em> to add, rename
or remove layer style. You can also edit feature symbols.</p>
</div>
</div>
<div class="section" id="storing-style-in-a-file-or-a-database">
<span id="store-style"></span><h3><a class="toc-backref" href="#id66">Storing Style in a File or a Database</a><a class="headerlink" href="#storing-style-in-a-file-or-a-database" title="Permalink to this headline">¶</a></h3>
<p>While these styles are saved inside the project and can be copied and pasted from
layer to layer in the project, it&#8217;s also possible to save them outside the project
so that they can be loaded in another project.
Clicking the <a class="reference internal" href="../../../_images/selectstring.png"><img alt="selectString" src="../../../_images/selectstring.png" style="width: 2.5em;" /></a> <em class="menuselection">Style ‣ Save Style</em>
saves the symbol as a QGIS layer style file (<tt class="docutils literal"><span class="pre">.qml</span></tt>) or SLD file (<tt class="docutils literal"><span class="pre">.sld</span></tt>).
SLDs can be exported from any type of renderer &#8211; single symbol,
categorized, graduated or rule-based &#8211; but when importing an SLD, either a
single symbol or rule-based renderer is created.
That means that categorized or graduated styles are converted to rule-based.
If you want to preserve those renderers, you have to stick to the QML format.
On the other hand, it can be very handy sometimes to have this easy way of
converting styles to rule-based.</p>
<p>If the datasource of the layer is a database (PostGIS, MSSQL, Oracle or Spatialite),
you can also save your layer style inside a table (named <cite>layer_styles</cite>) of the
database. Just click on <em class="menuselection">Save Style</em> combobox and choose <strong>Save
in database</strong> item then fill in the dialog to define a style name, add a
description, an ui file if applicable and check if the style is the default style.
You can add several style in the database. However each table can have only one
default style.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can only save your style in database if the layer come from such
database. You can&#8217;t mix databases (layer in Oracle and style in MSSQL for
instance).</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><strong>Restore and Save default style</strong></p>
<p>You can save the current style as the default style for the layer or
overwrite the current style by the default one for current layer.</p>
<p>Interface could ask you from which (or to which) database you want to take
(or save) the default style in case a database is used. For
instance, if layer comes from PostgreSQL database, you can save the style
in this database. You can restore the default style either from this
database or from the local database.</p>
<p class="last">Local database is a SQLite database in the <tt class="file docutils literal"><span class="pre">~/.qgis2/</span></tt> directory
(where QGIS stores its local settings).</p>
</div>
<p>See also the tip in <a class="reference internal" href="supported_data.html#sec-postgis-details"><em>Some details about PostgreSQL layers</em></a> for more information on backup
of PostGIS database with layers and styles saved by QGIS.</p>
<p>When loading a layer in QGIS, if a default style already exists for this layer,
QGIS will load the layer and its style. After you modified the layer style,
you can <strong>Save as Default</strong>, creating a new style that becomes the default one
or <strong>Restore Default</strong> style if you&#8217;re not satisfied.</p>
<p><strong>Figure Vector Properties 2:</strong></p>
<div class="figure align-center" id="figure-vector-properties-2">
<img alt="../../../_images/save_style_database.png" src="../../../_images/save_style_database.png" />
<p class="caption">Save Style in database Dialog</p>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p><strong>Quickly share a layer style within the project</strong></p>
<p class="last">You can also share layer style within a project without importing a file or
database style: right-click on the layer in the <em class="guilabel">Layers Panel</em> and,
from the <em class="guilabel">Styles</em> combobox , copy the style of a layer and paste it
to a group or a selection of layers: the style is applied to all the layers
that are of the same type (vector vs raster) as the original layer and, in
case of vector, have the same geometry type (point, line or polygon).</p>
</div>
</div>
</div>
</div>

                        
                    
                </div>
                  
            </div>
        </div>
    

    <!--<a href="https://github.com/qgis/"><img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png" alt="Fork me on GitHub"></a>-->
    <div class="related">
       
      
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="expression.html" title="Expressions"
             >next</a></li>
        <li class="right" >
          <a href="style_library.html" title="The Symbol Library"
             >previous</a> |</li>
        <li><a href="../../index.html"></a> &raquo;</li>
          <li><a href="../index.html" >QGIS User Guide</a> &raquo;</li>
          <li><a href="index.html" >Working with Vector Data</a> &raquo;</li> 
      </ul>
    </div>
  <footer class="footer">

    <div class="container">
        <div>
          <ul class="unstyled inline" id="social">
            <li id="twitter"><a href="http://twitter.com/qgis" class="external"><div></div></a></li>
            <li id="facebook"><a href="https://www.facebook.com/pages/QGIS-Quantum-GIS-/298112000235096" class="external"><div></div></a></li>
            <li id="gplus"><a href="http://plus.google.com/communities/114776597176808981624" class="external"><div></div></a></li>
            <li id="github"><a href="http://github.com/qgis/" class="external"><div></div></a></li>
            <!--<li id="aboutcontact"><a href="../../../site/getinvolved/about.html"><div></div></a></li>-->
            <li id="aboutcontact"><a href="http://www.qgis.org/en/site/getinvolved/about.html"><div></div></a></li>
          </ul>
        </div>

        <p class="credit">If not stated otherwise, all content is licensed under <a href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-ShareAlike 3.0 licence (CC BY-SA)</a></p>
    </div>
    <div class="container">
      <p class="credit">
        Select graphics from <a href="http://thenounproject.com" target="_blank">The Noun Project collection</a>
        
        
      </p>
      <p class="credit">
        <!--
        Untranslated page? Or you spot a translation error:
        <a id="fix_translation_link" target="_blank" href="https://www.transifex.com/projects/p/qgis-documentation/">fix me</a>
        <br/>
        -->
        Textual error, missing text or you know better:
        <a id="fix_text_link" target="_blank" href="https://github.com/qgis/QGIS-Documentation">fix me</a>
      </p>
    </div>
  </footer>

  </body>
</html>